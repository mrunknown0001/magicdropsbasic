const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/messageSyncService-DQNQgSNl.js","assets/index-C2zOcIr5.js","assets/index-B_s9hhpz.css","assets/receiveSmsOnlineScraper-DkEzJxaM.js"])))=>i.map(i=>d[i]);
import{s as V,r as p,z as te,j as r,az as ht,aA as gr,aB as Ht,ag as sn,e as B,a8 as on,aC as Oe,af as wt,b as St,aD as hr,ae as fr,m as Ue,au as Ae,a5 as lt,aE as cn,a9 as ln,av as Wt,a7 as dn,aF as mn}from"./index-C2zOcIr5.js";import{f as ce,b as me,g as dt,a as Jt}from"./serviceData-DjCiU7-a.js";import{u as un}from"./useEmployees-BfxrKmlR.js";import{u as _e}from"./useToast-BsUGRjrm.js";import{f as gn}from"./formatDistanceToNow-Zog-F_3p.js";import"./connectionManager-WW8tX6Ox.js";function pr(e,t){return function(){return e.apply(t,arguments)}}const{toString:hn}=Object.prototype,{getPrototypeOf:kt}=Object,{iterator:Xe,toStringTag:br}=Symbol,Ye=(e=>t=>{const n=hn.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),le=e=>(e=e.toLowerCase(),t=>Ye(t)===e),Qe=e=>t=>typeof t===e,{isArray:Se}=Array,Pe=Qe("undefined");function Fe(e){return e!==null&&!Pe(e)&&e.constructor!==null&&!Pe(e.constructor)&&re(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xr=le("ArrayBuffer");function fn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xr(e.buffer),t}const pn=Qe("string"),re=Qe("function"),yr=Qe("number"),Le=e=>e!==null&&typeof e=="object",bn=e=>e===!0||e===!1,Ke=e=>{if(Ye(e)!=="object")return!1;const t=kt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(br in e)&&!(Xe in e)},xn=e=>{if(!Le(e)||Fe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},yn=le("Date"),vn=le("File"),wn=le("Blob"),Sn=le("FileList"),kn=e=>Le(e)&&re(e.pipe),jn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||re(e.append)&&((t=Ye(e))==="formdata"||t==="object"&&re(e.toString)&&e.toString()==="[object FormData]"))},Nn=le("URLSearchParams"),[En,An,Cn,Tn]=["ReadableStream","Request","Response","Headers"].map(le),Mn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function De(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),Se(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{if(Fe(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let c;for(a=0;a<i;a++)c=o[a],t.call(null,e[c],c,e)}}function vr(e,t){if(Fe(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],t===s.toLowerCase())return s;return null}const he=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wr=e=>!Pe(e)&&e!==he;function ft(){const{caseless:e}=wr(this)&&this||{},t={},n=(a,s)=>{const o=e&&vr(t,s)||s;Ke(t[o])&&Ke(a)?t[o]=ft(t[o],a):Ke(a)?t[o]=ft({},a):Se(a)?t[o]=a.slice():t[o]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&De(arguments[a],n);return t}const Rn=(e,t,n,{allOwnKeys:a}={})=>(De(t,(s,o)=>{n&&re(s)?e[o]=pr(s,n):e[o]=s},{allOwnKeys:a}),e),On=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Pn=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_n=(e,t,n,a)=>{let s,o,i;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!a||a(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=n!==!1&&kt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Fn=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},Ln=e=>{if(!e)return null;if(Se(e))return e;let t=e.length;if(!yr(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Dn=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&kt(Uint8Array)),zn=(e,t)=>{const a=(e&&e[Xe]).call(e);let s;for(;(s=a.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},In=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},$n=le("HTMLFormElement"),Bn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),Zt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Un=le("RegExp"),Sr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};De(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(a[o]=i||s)}),Object.defineProperties(e,a)},qn=e=>{Sr(e,(t,n)=>{if(re(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(re(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Gn=(e,t)=>{const n={},a=s=>{s.forEach(o=>{n[o]=!0})};return Se(e)?a(e):a(String(e).split(t)),n},Vn=()=>{},Kn=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Hn(e){return!!(e&&re(e.append)&&e[br]==="FormData"&&e[Xe])}const Wn=e=>{const t=new Array(10),n=(a,s)=>{if(Le(a)){if(t.indexOf(a)>=0)return;if(Fe(a))return a;if(!("toJSON"in a)){t[s]=a;const o=Se(a)?[]:{};return De(a,(i,c)=>{const u=n(i,s+1);!Pe(u)&&(o[c]=u)}),t[s]=void 0,o}}return a};return n(e,0)},Jn=le("AsyncFunction"),Zn=e=>e&&(Le(e)||re(e))&&re(e.then)&&re(e.catch),kr=((e,t)=>e?setImmediate:t?((n,a)=>(he.addEventListener("message",({source:s,data:o})=>{s===he&&o===n&&a.length&&a.shift()()},!1),s=>{a.push(s),he.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",re(he.postMessage)),Xn=typeof queueMicrotask<"u"?queueMicrotask.bind(he):typeof process<"u"&&process.nextTick||kr,Yn=e=>e!=null&&re(e[Xe]),d={isArray:Se,isArrayBuffer:xr,isBuffer:Fe,isFormData:jn,isArrayBufferView:fn,isString:pn,isNumber:yr,isBoolean:bn,isObject:Le,isPlainObject:Ke,isEmptyObject:xn,isReadableStream:En,isRequest:An,isResponse:Cn,isHeaders:Tn,isUndefined:Pe,isDate:yn,isFile:vn,isBlob:wn,isRegExp:Un,isFunction:re,isStream:kn,isURLSearchParams:Nn,isTypedArray:Dn,isFileList:Sn,forEach:De,merge:ft,extend:Rn,trim:Mn,stripBOM:On,inherits:Pn,toFlatObject:_n,kindOf:Ye,kindOfTest:le,endsWith:Fn,toArray:Ln,forEachEntry:zn,matchAll:In,isHTMLForm:$n,hasOwnProperty:Zt,hasOwnProp:Zt,reduceDescriptors:Sr,freezeMethods:qn,toObjectSet:Gn,toCamelCase:Bn,noop:Vn,toFiniteNumber:Kn,findKey:vr,global:he,isContextDefined:wr,isSpecCompliantForm:Hn,toJSONObject:Wn,isAsyncFn:Jn,isThenable:Zn,setImmediate:kr,asap:Xn,isIterable:Yn};function R(e,t,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}d.inherits(R,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const jr=R.prototype,Nr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Nr[e]={value:e}});Object.defineProperties(R,Nr);Object.defineProperty(jr,"isAxiosError",{value:!0});R.from=(e,t,n,a,s,o)=>{const i=Object.create(jr);return d.toFlatObject(e,i,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),R.call(i,e.message,t,n,a,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const Qn=null;function pt(e){return d.isPlainObject(e)||d.isArray(e)}function Er(e){return d.endsWith(e,"[]")?e.slice(0,-2):e}function Xt(e,t,n){return e?e.concat(t).map(function(s,o){return s=Er(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function ea(e){return d.isArray(e)&&!e.some(pt)}const ta=d.toFlatObject(d,{},null,function(t){return/^is[A-Z]/.test(t)});function et(e,t,n){if(!d.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=d.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!d.isUndefined(x[b])});const a=n.metaTokens,s=n.visitor||g,o=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(t);if(!d.isFunction(s))throw new TypeError("visitor must be a function");function m(f){if(f===null)return"";if(d.isDate(f))return f.toISOString();if(d.isBoolean(f))return f.toString();if(!u&&d.isBlob(f))throw new R("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(f)||d.isTypedArray(f)?u&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function g(f,b,x){let C=f;if(f&&!x&&typeof f=="object"){if(d.endsWith(b,"{}"))b=a?b:b.slice(0,-2),f=JSON.stringify(f);else if(d.isArray(f)&&ea(f)||(d.isFileList(f)||d.endsWith(b,"[]"))&&(C=d.toArray(f)))return b=Er(b),C.forEach(function(T,S){!(d.isUndefined(T)||T===null)&&t.append(i===!0?Xt([b],S,o):i===null?b:b+"[]",m(T))}),!1}return pt(f)?!0:(t.append(Xt(x,b,o),m(f)),!1)}const y=[],k=Object.assign(ta,{defaultVisitor:g,convertValue:m,isVisitable:pt});function v(f,b){if(!d.isUndefined(f)){if(y.indexOf(f)!==-1)throw Error("Circular reference detected in "+b.join("."));y.push(f),d.forEach(f,function(C,h){(!(d.isUndefined(C)||C===null)&&s.call(t,C,d.isString(h)?h.trim():h,b,k))===!0&&v(C,b?b.concat(h):[h])}),y.pop()}}if(!d.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Yt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function jt(e,t){this._pairs=[],e&&et(e,this,t)}const Ar=jt.prototype;Ar.append=function(t,n){this._pairs.push([t,n])};Ar.toString=function(t){const n=t?function(a){return t.call(this,a,Yt)}:Yt;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ra(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cr(e,t,n){if(!t)return e;const a=n&&n.encode||ra;d.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=d.isURLSearchParams(t)?t.toString():new jt(t,n).toString(a),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Qt{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){d.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Tr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},na=typeof URLSearchParams<"u"?URLSearchParams:jt,aa=typeof FormData<"u"?FormData:null,sa=typeof Blob<"u"?Blob:null,oa={isBrowser:!0,classes:{URLSearchParams:na,FormData:aa,Blob:sa},protocols:["http","https","file","blob","url","data"]},Nt=typeof window<"u"&&typeof document<"u",bt=typeof navigator=="object"&&navigator||void 0,ia=Nt&&(!bt||["ReactNative","NativeScript","NS"].indexOf(bt.product)<0),ca=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",la=Nt&&window.location.href||"http://localhost",da=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nt,hasStandardBrowserEnv:ia,hasStandardBrowserWebWorkerEnv:ca,navigator:bt,origin:la},Symbol.toStringTag,{value:"Module"})),X={...da,...oa};function ma(e,t){return et(e,new X.classes.URLSearchParams,{visitor:function(n,a,s,o){return X.isNode&&d.isBuffer(n)?(this.append(a,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function ua(e){return d.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ga(e){const t={},n=Object.keys(e);let a;const s=n.length;let o;for(a=0;a<s;a++)o=n[a],t[o]=e[o];return t}function Mr(e){function t(n,a,s,o){let i=n[o++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),u=o>=n.length;return i=!i&&d.isArray(s)?s.length:i,u?(d.hasOwnProp(s,i)?s[i]=[s[i],a]:s[i]=a,!c):((!s[i]||!d.isObject(s[i]))&&(s[i]=[]),t(n,a,s[i],o)&&d.isArray(s[i])&&(s[i]=ga(s[i])),!c)}if(d.isFormData(e)&&d.isFunction(e.entries)){const n={};return d.forEachEntry(e,(a,s)=>{t(ua(a),s,n,0)}),n}return null}function ha(e,t,n){if(d.isString(e))try{return(t||JSON.parse)(e),d.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const ze={transitional:Tr,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,o=d.isObject(t);if(o&&d.isHTMLForm(t)&&(t=new FormData(t)),d.isFormData(t))return s?JSON.stringify(Mr(t)):t;if(d.isArrayBuffer(t)||d.isBuffer(t)||d.isStream(t)||d.isFile(t)||d.isBlob(t)||d.isReadableStream(t))return t;if(d.isArrayBufferView(t))return t.buffer;if(d.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ma(t,this.formSerializer).toString();if((c=d.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return et(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),ha(t)):t}],transformResponse:[function(t){const n=this.transitional||ze.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(d.isResponse(t)||d.isReadableStream(t))return t;if(t&&d.isString(t)&&(a&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(i)throw c.name==="SyntaxError"?R.from(c,R.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X.classes.FormData,Blob:X.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],e=>{ze.headers[e]={}});const fa=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pa=e=>{const t={};let n,a,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),a=i.substring(s+1).trim(),!(!n||t[n]&&fa[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},er=Symbol("internals");function Ce(e){return e&&String(e).trim().toLowerCase()}function He(e){return e===!1||e==null?e:d.isArray(e)?e.map(He):String(e)}function ba(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const xa=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function mt(e,t,n,a,s){if(d.isFunction(a))return a.call(this,t,n);if(s&&(t=n),!!d.isString(t)){if(d.isString(a))return t.indexOf(a)!==-1;if(d.isRegExp(a))return a.test(t)}}function ya(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function va(e,t){const n=d.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,o,i){return this[a].call(this,t,s,o,i)},configurable:!0})})}let ne=class{constructor(t){t&&this.set(t)}set(t,n,a){const s=this;function o(c,u,m){const g=Ce(u);if(!g)throw new Error("header name must be a non-empty string");const y=d.findKey(s,g);(!y||s[y]===void 0||m===!0||m===void 0&&s[y]!==!1)&&(s[y||u]=He(c))}const i=(c,u)=>d.forEach(c,(m,g)=>o(m,g,u));if(d.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(d.isString(t)&&(t=t.trim())&&!xa(t))i(pa(t),n);else if(d.isObject(t)&&d.isIterable(t)){let c={},u,m;for(const g of t){if(!d.isArray(g))throw TypeError("Object iterator must return a key-value pair");c[m=g[0]]=(u=c[m])?d.isArray(u)?[...u,g[1]]:[u,g[1]]:g[1]}i(c,n)}else t!=null&&o(n,t,a);return this}get(t,n){if(t=Ce(t),t){const a=d.findKey(this,t);if(a){const s=this[a];if(!n)return s;if(n===!0)return ba(s);if(d.isFunction(n))return n.call(this,s,a);if(d.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ce(t),t){const a=d.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||mt(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let s=!1;function o(i){if(i=Ce(i),i){const c=d.findKey(a,i);c&&(!n||mt(a,a[c],c,n))&&(delete a[c],s=!0)}}return d.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const o=n[a];(!t||mt(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,a={};return d.forEach(this,(s,o)=>{const i=d.findKey(a,o);if(i){n[i]=He(s),delete n[o];return}const c=t?ya(o):String(o).trim();c!==o&&delete n[o],n[c]=He(s),a[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return d.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=t&&d.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[er]=this[er]={accessors:{}}).accessors,s=this.prototype;function o(i){const c=Ce(i);a[c]||(va(s,i),a[c]=!0)}return d.isArray(t)?t.forEach(o):o(t),this}};ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(ne.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});d.freezeMethods(ne);function ut(e,t){const n=this||ze,a=t||n,s=ne.from(a.headers);let o=a.data;return d.forEach(e,function(c){o=c.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Rr(e){return!!(e&&e.__CANCEL__)}function ke(e,t,n){R.call(this,e??"canceled",R.ERR_CANCELED,t,n),this.name="CanceledError"}d.inherits(ke,R,{__CANCEL__:!0});function Or(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new R("Request failed with status code "+n.status,[R.ERR_BAD_REQUEST,R.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wa(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Sa(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(u){const m=Date.now(),g=a[o];i||(i=m),n[s]=u,a[s]=m;let y=o,k=0;for(;y!==s;)k+=n[y++],y=y%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),m-i<t)return;const v=g&&m-g;return v?Math.round(k*1e3/v):void 0}}function ka(e,t){let n=0,a=1e3/t,s,o;const i=(m,g=Date.now())=>{n=g,s=null,o&&(clearTimeout(o),o=null),e(...m)};return[(...m)=>{const g=Date.now(),y=g-n;y>=a?i(m,g):(s=m,o||(o=setTimeout(()=>{o=null,i(s)},a-y)))},()=>s&&i(s)]}const Je=(e,t,n=3)=>{let a=0;const s=Sa(50,250);return ka(o=>{const i=o.loaded,c=o.lengthComputable?o.total:void 0,u=i-a,m=s(u),g=i<=c;a=i;const y={loaded:i,total:c,progress:c?i/c:void 0,bytes:u,rate:m||void 0,estimated:m&&c&&g?(c-i)/m:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(y)},n)},tr=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},rr=e=>(...t)=>d.asap(()=>e(...t)),ja=X.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,X.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(X.origin),X.navigator&&/(msie|trident)/i.test(X.navigator.userAgent)):()=>!0,Na=X.hasStandardBrowserEnv?{write(e,t,n,a,s,o){const i=[e+"="+encodeURIComponent(t)];d.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),d.isString(a)&&i.push("path="+a),d.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ea(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Aa(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Pr(e,t,n){let a=!Ea(t);return e&&(a||n==!1)?Aa(e,t):t}const nr=e=>e instanceof ne?{...e}:e;function pe(e,t){t=t||{};const n={};function a(m,g,y,k){return d.isPlainObject(m)&&d.isPlainObject(g)?d.merge.call({caseless:k},m,g):d.isPlainObject(g)?d.merge({},g):d.isArray(g)?g.slice():g}function s(m,g,y,k){if(d.isUndefined(g)){if(!d.isUndefined(m))return a(void 0,m,y,k)}else return a(m,g,y,k)}function o(m,g){if(!d.isUndefined(g))return a(void 0,g)}function i(m,g){if(d.isUndefined(g)){if(!d.isUndefined(m))return a(void 0,m)}else return a(void 0,g)}function c(m,g,y){if(y in t)return a(m,g);if(y in e)return a(void 0,m)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(m,g,y)=>s(nr(m),nr(g),y,!0)};return d.forEach(Object.keys({...e,...t}),function(g){const y=u[g]||s,k=y(e[g],t[g],g);d.isUndefined(k)&&y!==c||(n[g]=k)}),n}const _r=e=>{const t=pe({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:c}=t;t.headers=i=ne.from(i),t.url=Cr(Pr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(d.isFormData(n)){if(X.hasStandardBrowserEnv||X.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[m,...g]=u?u.split(";").map(y=>y.trim()).filter(Boolean):[];i.setContentType([m||"multipart/form-data",...g].join("; "))}}if(X.hasStandardBrowserEnv&&(a&&d.isFunction(a)&&(a=a(t)),a||a!==!1&&ja(t.url))){const m=s&&o&&Na.read(o);m&&i.set(s,m)}return t},Ca=typeof XMLHttpRequest<"u",Ta=Ca&&function(e){return new Promise(function(n,a){const s=_r(e);let o=s.data;const i=ne.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:m}=s,g,y,k,v,f;function b(){v&&v(),f&&f(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function C(){if(!x)return;const T=ne.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),w={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:T,config:e,request:x};Or(function(_){n(_),b()},function(_){a(_),b()},w),x=null}"onloadend"in x?x.onloadend=C:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(C)},x.onabort=function(){x&&(a(new R("Request aborted",R.ECONNABORTED,e,x)),x=null)},x.onerror=function(){a(new R("Network Error",R.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const w=s.transitional||Tr;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),a(new R(S,w.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,e,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&d.forEach(i.toJSON(),function(S,w){x.setRequestHeader(w,S)}),d.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),c&&c!=="json"&&(x.responseType=s.responseType),m&&([k,f]=Je(m,!0),x.addEventListener("progress",k)),u&&x.upload&&([y,v]=Je(u),x.upload.addEventListener("progress",y),x.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(g=T=>{x&&(a(!T||T.type?new ke(null,e,x):T),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const h=wa(s.url);if(h&&X.protocols.indexOf(h)===-1){a(new R("Unsupported protocol "+h+":",R.ERR_BAD_REQUEST,e));return}x.send(o||null)})},Ma=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,s;const o=function(m){if(!s){s=!0,c();const g=m instanceof Error?m:this.reason;a.abort(g instanceof R?g:new ke(g instanceof Error?g.message:g))}};let i=t&&setTimeout(()=>{i=null,o(new R(`timeout ${t} of ms exceeded`,R.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),e=null)};e.forEach(m=>m.addEventListener("abort",o));const{signal:u}=a;return u.unsubscribe=()=>d.asap(c),u}},Ra=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,s;for(;a<n;)s=a+t,yield e.slice(a,s),a=s},Oa=async function*(e,t){for await(const n of Pa(e))yield*Ra(n,t)},Pa=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},ar=(e,t,n,a)=>{const s=Oa(e,t);let o=0,i,c=u=>{i||(i=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:m,value:g}=await s.next();if(m){c(),u.close();return}let y=g.byteLength;if(n){let k=o+=y;n(k)}u.enqueue(new Uint8Array(g))}catch(m){throw c(m),m}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},tt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Fr=tt&&typeof ReadableStream=="function",_a=tt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Lr=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Fa=Fr&&Lr(()=>{let e=!1;const t=new Request(X.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),sr=64*1024,xt=Fr&&Lr(()=>d.isReadableStream(new Response("").body)),Ze={stream:xt&&(e=>e.body)};tt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ze[t]&&(Ze[t]=d.isFunction(e[t])?n=>n[t]():(n,a)=>{throw new R(`Response type '${t}' is not supported`,R.ERR_NOT_SUPPORT,a)})})})(new Response);const La=async e=>{if(e==null)return 0;if(d.isBlob(e))return e.size;if(d.isSpecCompliantForm(e))return(await new Request(X.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(d.isArrayBufferView(e)||d.isArrayBuffer(e))return e.byteLength;if(d.isURLSearchParams(e)&&(e=e+""),d.isString(e))return(await _a(e)).byteLength},Da=async(e,t)=>{const n=d.toFiniteNumber(e.getContentLength());return n??La(t)},za=tt&&(async e=>{let{url:t,method:n,data:a,signal:s,cancelToken:o,timeout:i,onDownloadProgress:c,onUploadProgress:u,responseType:m,headers:g,withCredentials:y="same-origin",fetchOptions:k}=_r(e);m=m?(m+"").toLowerCase():"text";let v=Ma([s,o&&o.toAbortSignal()],i),f;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let x;try{if(u&&Fa&&n!=="get"&&n!=="head"&&(x=await Da(g,a))!==0){let w=new Request(t,{method:"POST",body:a,duplex:"half"}),N;if(d.isFormData(a)&&(N=w.headers.get("content-type"))&&g.setContentType(N),w.body){const[_,F]=tr(x,Je(rr(u)));a=ar(w.body,sr,_,F)}}d.isString(y)||(y=y?"include":"omit");const C="credentials"in Request.prototype;f=new Request(t,{...k,signal:v,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:a,duplex:"half",credentials:C?y:void 0});let h=await fetch(f,k);const T=xt&&(m==="stream"||m==="response");if(xt&&(c||T&&b)){const w={};["status","statusText","headers"].forEach(I=>{w[I]=h[I]});const N=d.toFiniteNumber(h.headers.get("content-length")),[_,F]=c&&tr(N,Je(rr(c),!0))||[];h=new Response(ar(h.body,sr,_,()=>{F&&F(),b&&b()}),w)}m=m||"text";let S=await Ze[d.findKey(Ze,m)||"text"](h,e);return!T&&b&&b(),await new Promise((w,N)=>{Or(w,N,{data:S,headers:ne.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:f})})}catch(C){throw b&&b(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new R("Network Error",R.ERR_NETWORK,e,f),{cause:C.cause||C}):R.from(C,C&&C.code,e,f)}}),yt={http:Qn,xhr:Ta,fetch:za};d.forEach(yt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const or=e=>`- ${e}`,Ia=e=>d.isFunction(e)||e===null||e===!1,Dr={getAdapter:e=>{e=d.isArray(e)?e:[e];const{length:t}=e;let n,a;const s={};for(let o=0;o<t;o++){n=e[o];let i;if(a=n,!Ia(n)&&(a=yt[(i=String(n)).toLowerCase()],a===void 0))throw new R(`Unknown adapter '${i}'`);if(a)break;s[i||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(or).join(`
`):" "+or(o[0]):"as no adapter specified";throw new R("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return a},adapters:yt};function gt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ke(null,e)}function ir(e){return gt(e),e.headers=ne.from(e.headers),e.data=ut.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Dr.getAdapter(e.adapter||ze.adapter)(e).then(function(a){return gt(e),a.data=ut.call(e,e.transformResponse,a),a.headers=ne.from(a.headers),a},function(a){return Rr(a)||(gt(e),a&&a.response&&(a.response.data=ut.call(e,e.transformResponse,a.response),a.response.headers=ne.from(a.response.headers))),Promise.reject(a)})}const zr="1.11.0",rt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rt[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const cr={};rt.transitional=function(t,n,a){function s(o,i){return"[Axios v"+zr+"] Transitional option '"+o+"'"+i+(a?". "+a:"")}return(o,i,c)=>{if(t===!1)throw new R(s(i," has been removed"+(n?" in "+n:"")),R.ERR_DEPRECATED);return n&&!cr[i]&&(cr[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,c):!0}};rt.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function $a(e,t,n){if(typeof e!="object")throw new R("options must be an object",R.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const o=a[s],i=t[o];if(i){const c=e[o],u=c===void 0||i(c,o,e);if(u!==!0)throw new R("option "+o+" must be "+u,R.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new R("Unknown option "+o,R.ERR_BAD_OPTION)}}const We={assertOptions:$a,validators:rt},de=We.validators;let fe=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Qt,response:new Qt}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=pe(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:o}=n;a!==void 0&&We.assertOptions(a,{silentJSONParsing:de.transitional(de.boolean),forcedJSONParsing:de.transitional(de.boolean),clarifyTimeoutError:de.transitional(de.boolean)},!1),s!=null&&(d.isFunction(s)?n.paramsSerializer={serialize:s}:We.assertOptions(s,{encode:de.function,serialize:de.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),We.assertOptions(n,{baseUrl:de.spelling("baseURL"),withXsrfToken:de.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&d.merge(o.common,o[n.method]);o&&d.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),n.headers=ne.concat(i,o);const c=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let g,y=0,k;if(!u){const f=[ir.bind(this),void 0];for(f.unshift(...c),f.push(...m),k=f.length,g=Promise.resolve(n);y<k;)g=g.then(f[y++],f[y++]);return g}k=c.length;let v=n;for(y=0;y<k;){const f=c[y++],b=c[y++];try{v=f(v)}catch(x){b.call(this,x);break}}try{g=ir.call(this,v)}catch(f){return Promise.reject(f)}for(y=0,k=m.length;y<k;)g=g.then(m[y++],m[y++]);return g}getUri(t){t=pe(this.defaults,t);const n=Pr(t.baseURL,t.url,t.allowAbsoluteUrls);return Cr(n,t.params,t.paramsSerializer)}};d.forEach(["delete","get","head","options"],function(t){fe.prototype[t]=function(n,a){return this.request(pe(a||{},{method:t,url:n,data:(a||{}).data}))}});d.forEach(["post","put","patch"],function(t){function n(a){return function(o,i,c){return this.request(pe(c||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}fe.prototype[t]=n(),fe.prototype[t+"Form"]=n(!0)});let Ba=class Ir{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const a=this;this.promise.then(s=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](s);a._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(c=>{a.subscribe(c),o=c}).then(s);return i.cancel=function(){a.unsubscribe(o)},i},t(function(o,i,c){a.reason||(a.reason=new ke(o,i,c),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ir(function(s){t=s}),cancel:t}}};function Ua(e){return function(n){return e.apply(null,n)}}function qa(e){return d.isObject(e)&&e.isAxiosError===!0}const vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vt).forEach(([e,t])=>{vt[t]=e});function $r(e){const t=new fe(e),n=pr(fe.prototype.request,t);return d.extend(n,fe.prototype,t,{allOwnKeys:!0}),d.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return $r(pe(e,s))},n}const K=$r(ze);K.Axios=fe;K.CanceledError=ke;K.CancelToken=Ba;K.isCancel=Rr;K.VERSION=zr;K.toFormData=et;K.AxiosError=R;K.Cancel=K.CanceledError;K.all=function(t){return Promise.all(t)};K.spread=Ua;K.isAxiosError=qa;K.mergeConfig=pe;K.AxiosHeaders=ne;K.formToJSON=e=>Mr(d.isHTMLForm(e)?new FormData(e):e);K.getAdapter=Dr.getAdapter;K.HttpStatusCode=vt;K.default=K;const{Axios:is,AxiosError:cs,CanceledError:ls,isCancel:ds,CancelToken:ms,VERSION:us,all:gs,Cancel:hs,isAxiosError:fs,spread:ps,toFormData:bs,AxiosHeaders:xs,HttpStatusCode:ys,formToJSON:vs,getAdapter:ws,mergeConfig:Ss}=K,ue=K.create({baseURL:"https://fag-jewhunter.shop/api/phone",headers:{"Content-Type":"application/json"},timeout:1e4,withCredentials:!1});let ye=null,lr=0,Te=null,Me=null,qe=0,ve=null;const Ga=5*60*1e3;ue.interceptors.request.use(async e=>{const t=Date.now();if(!ye||t>=lr)try{const{data:{session:n}}=await V.auth.getSession();n!=null&&n.access_token?(ye=n.access_token,lr=n.expires_at?n.expires_at*1e3-5*60*1e3:t+55*60*1e3):ye=null}catch(n){console.error("Error getting auth session:",n),ye=null}return ye&&(e.headers.Authorization=`Bearer ${ye}`),e});ue.interceptors.response.use(e=>e,e=>Promise.reject(e));const Re=e=>{throw e.response?(console.error("API Error Response:",e.response.data),new Error(e.response.data.message||"An error occurred with the API")):e.request?(console.error("API Error Request:",e.request),new Error("No response received from server")):(console.error("API Error:",e.message),new Error("Error setting up request"))},we={validateUrl(e){try{const t=new URL(e);return t.hostname==="receive-sms-online.info"&&t.pathname==="/private.php"&&t.searchParams.has("phone")&&t.searchParams.has("key")&&t.protocol==="https:"}catch{return!1}},parseUrl(e){try{if(!this.validateUrl(e))return null;const t=new URL(e),n=t.searchParams.get("phone"),a=t.searchParams.get("key");return!n||!a?null:{phoneNumber:n.replace(/^\+/,""),accessKey:a}}catch{return null}},detectCountry(e){const t=e.replace(/\D/g,""),n={49:"germany",1:"usa",44:"uk",33:"france",39:"italy",34:"spain",31:"netherlands",32:"belgium",43:"austria",41:"switzerland"};for(let a=1;a<=4;a++){const s=t.substring(0,a);if(n[s])return n[s]}return"unknown"},sanitizeUrl(e){try{const t=new URL(e);if(t.hostname!=="receive-sms-online.info"||t.pathname!=="/private.php")throw new Error("Invalid domain or path");const n=t.searchParams.get("phone"),a=t.searchParams.get("key");if(!n||!a)throw new Error("Missing required parameters");return`https://receive-sms-online.info/private.php?phone=${encodeURIComponent(n)}&key=${encodeURIComponent(a)}`}catch(t){throw new Error(`URL sanitization failed: ${t instanceof Error?t.message:"Unknown error"}`)}}},se={async getServicesAndCountries(e,t,n,a){try{const s=n||"sms_activate",o=Date.now();if(Te&&Me&&ve===s&&o-qe<Ga)return console.log(`Using cached services and countries data for provider: ${s}`),{services:Te,countries:Me};ve&&ve!==s&&(console.log(`Provider changed from ${ve} to ${s}, clearing cache`),Te=null,Me=null,qe=0);const i={};e&&(i.rentTime=e),t&&(i.country=t),n&&(i.provider=n),a&&(i.mode=a),console.log(`API Request: Fetching services and countries for provider ${s} with params:`,i);try{const c=await ue.get("/services",{params:i,timeout:5e3});if(console.log(`API Response for services and countries received for provider: ${s}`),!c.data||!c.data.data)throw console.error("Invalid API response structure:",c.data),new Error("Invalid API response: missing data property");const u=c.data.data;if(!u.services||Object.keys(u.services).length===0)throw console.error("API returned no services:",u),new Error("API returned no services");return Te=u.services,Me=u.countries||ce,ve=s,qe=o,console.log(`Successfully cached ${Object.keys(u.services).length} services for provider: ${s}`),{services:u.services,countries:u.countries||ce}}catch(c){return console.warn(`API request failed for provider ${s}, using fallback data:`,c),Te=me,Me=ce,ve=s,qe=o,{services:me,countries:ce}}}catch(s){return console.error("Error handling services and countries data:",s),{services:me,countries:ce}}},async rentNumber(e,t,n,a,s){try{console.log("🚀 API Request: POST /phone/rent"),console.log({params:{service:e,rentTime:t,country:n,provider:a,mode:s},data:void 0});const o={service:e,rentTime:t||"4",country:n||"0",provider:a||"sms_activate",...a==="gogetsms"&&s&&{mode:s}},i=await ue.post("/rent",o);if(i.data.status==="success")return i.data.data||i.data;throw new Error(i.data.message||"Failed to rent phone number")}catch(o){console.error("Error in rentNumber:",o),Re(o)}},async getNumberStatus(e,t,n){try{const a={};return t&&(a.page=t),n&&(a.size=n),(await ue.get(`/status/${e}`,{params:a})).data.data}catch(a){return Re(a)}},async cancelRental(e){try{return(await ue.post(`/cancel/${e}`)).data.data}catch(t){return Re(t)}},async extendRental(e,t){try{return(await ue.post(`/extend/${e}`,{rentTime:t})).data.data}catch(n){return Re(n)}},async getActiveRentals(e){try{const t={};return e&&(t.provider=e),(await ue.get("/list",{params:t})).data.data}catch(t){return Re(t)}},async getPhoneNumbers(){try{console.log("Fetching phone numbers directly from table...");const{data:e,error:t}=await V.from("phone_numbers").select("*").order("created_at",{ascending:!1});if(t){console.error("Error fetching from table, trying RPC as fallback:",t);const n=await V.rpc("get_phone_numbers");if(n.error)throw n.error;return n.data}return console.log("Successfully fetched phone numbers:",(e==null?void 0:e.length)||0),e}catch(e){throw console.error("Error fetching phone numbers:",e),e}},async getPhoneMessages(e){try{const{data:t,error:n}=await V.rpc("get_phone_messages",{p_phone_number_id:e});if(n)throw n;return t}catch(t){throw console.error("Error fetching phone messages:",t),t}},async assignPhoneNumber(e,t){try{console.log("Assigning phone number directly:",{phoneNumberId:e,assigneeId:t});const{data:n,error:a}=await V.from("phone_numbers").update({assignee_id:t}).eq("id",e).select().single();if(a){console.error("Error with direct update, trying RPC as fallback:",a);const s=await V.rpc("assign_phone_number",{p_phone_number_id:e,p_assignee_id:t});if(s.error)throw s.error;return s.data}return console.log("Successfully assigned phone number:",n),n}catch(n){throw console.error("Error assigning phone number:",n),n}},async addManualPhoneNumber(e){try{console.log("Adding manual phone number from URL:",e);const t=we.sanitizeUrl(e),n=we.parseUrl(t);if(!n)throw new Error("Invalid receive-sms-online.info URL format");const{phoneNumber:a,accessKey:s}=n,o=we.detectCountry(a);console.log("Parsed phone data:",{phoneNumber:a,accessKey:s,country:o});const{data:i,error:c}=await V.from("phone_numbers").select("id").eq("phone_number",a).maybeSingle();if(c)throw console.error("Error checking existing phone number:",c),new Error(`Database error: ${c.message}`);if(i)throw new Error("Phone number already exists in the system");const{data:u,error:m}=await V.from("phone_numbers").insert({phone_number:a,provider:"receive_sms_online",external_url:t,access_key:s,service:"receive_sms_online",country:o,status:"active",end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),rent_id:null}).select().single();if(m)throw console.error("Error inserting phone number:",m),new Error(`Failed to add phone number: ${m.message}`);return console.log("Successfully added manual phone number:",u),u}catch(t){throw console.error("Error in addManualPhoneNumber:",t),t}},async removeManualPhoneNumber(e){try{console.log("Removing manual phone number:",e);const{data:t,error:n}=await V.from("phone_numbers").select("provider").eq("id",e).single();if(n)throw console.error("Error fetching phone number:",n),new Error(`Failed to fetch phone number: ${n.message}`);if(t.provider!=="receive_sms_online")throw new Error("Can only remove manual phone numbers");console.log("Deleting associated phone messages...");const{error:a}=await V.from("phone_messages").delete().eq("phone_number_id",e);if(a)throw console.error("Error deleting phone messages:",a),new Error(`Failed to delete phone messages: ${a.message}`);console.log("Phone messages deleted successfully"),console.log("Deleting phone number...");const{error:s}=await V.from("phone_numbers").delete().eq("id",e);if(s)throw console.error("Error deleting phone number:",s),new Error(`Failed to delete phone number: ${s.message}`);console.log("Successfully removed manual phone number")}catch(t){throw console.error("Error in removeManualPhoneNumber:",t),t}}},Va=()=>{const[e,t]=p.useState(()=>{try{const E=sessionStorage.getItem("phoneNumbersList");if(E){const A=JSON.parse(E);if(A.lastFetchTime&&Date.now()-A.lastFetchTime<3e5)return A.phoneNumbers||[]}}catch(E){console.error("Error retrieving stored phone numbers:",E)}return[]}),[n,a]=p.useState(()=>{try{const E=sessionStorage.getItem("phoneServicesData");if(E){const A=JSON.parse(E);if((A.provider||"sms_activate")==="sms_activate"&&A.lastFetchTime&&Date.now()-A.lastFetchTime<60*60*1e3)return A.services||me}}catch(E){console.error("Error retrieving stored services:",E)}return me}),[s,o]=p.useState(()=>{try{const E=sessionStorage.getItem("phoneServicesData");if(E){const A=JSON.parse(E);if((A.provider||"sms_activate")==="sms_activate"&&A.lastFetchTime&&Date.now()-A.lastFetchTime<60*60*1e3)return A.countries||ce}}catch(E){console.error("Error retrieving stored countries:",E)}return ce}),[i,c]=p.useState(!1),[u,m]=p.useState(null),[g,y]=p.useState("unknown"),[k,v]=p.useState(()=>{try{const E=sessionStorage.getItem("phoneNumbersList");if(E)return JSON.parse(E).lastFetchTime||0}catch(E){console.error("Error retrieving last fetch time:",E)}return 0}),[f,b]=p.useState(()=>{try{const E=sessionStorage.getItem("phoneServicesData");if(E){const A=JSON.parse(E);if((A.provider||"sms_activate")==="sms_activate")return A.lastFetchTime||0}}catch(E){console.error("Error retrieving services last fetch time:",E)}return 0}),x=p.useRef(!1),C=p.useRef(!1),h=p.useRef("sms_activate"),T=p.useCallback(async()=>{try{const E=await se.getServicesAndCountries("4","0"),A=E&&Object.keys(E.services||{}).length>0;return y(A?"available":"unavailable"),A}catch(E){return console.error("Server connectivity check failed:",E),y("unavailable"),!1}},[]),S=p.useCallback(async(E=!1)=>{if(x.current)return console.log("Data fetch already in progress, skipping"),e;const A=Date.now();if(!E&&k&&A-k<5e3)return console.log(`In cooling period, not fetching again. Last fetch: ${new Date(k).toLocaleTimeString()}`),e;(!(k&&A-k<5*60*1e3)||E)&&c(!0),x.current=!0,m(null);try{console.log("Fetching phone numbers data...");const{data:P,error:z}=await V.from("phone_numbers").select("*").order("created_at",{ascending:!1});let $=[];if(z){console.error("Error with direct table query:",z),console.log("Falling back to API client method...");const q=await se.getPhoneNumbers();console.log(`Retrieved ${q.length} phone numbers via API client`),$=q}else console.log(`Retrieved ${P.length} phone numbers directly`),$=P;t($);const oe=Date.now();v(oe);try{sessionStorage.setItem("phoneNumbersList",JSON.stringify({phoneNumbers:$,lastFetchTime:oe}))}catch(q){console.error("Error storing phone numbers in session storage:",q)}return $}catch(P){return console.error("Error fetching phone numbers:",P),m(P instanceof Error?P:new Error("Failed to fetch phone numbers")),te.error("Failed to fetch phone numbers"),[]}finally{c(!1),x.current=!1}},[e,k]),w=p.useCallback(async(E=!1,A,O,W)=>{const P=W||"sms_activate";if(h.current!==P){console.log(`Provider changed from ${h.current} to ${P} - resetting services cache`),h.current=P;try{sessionStorage.removeItem("phoneServicesData")}catch(oe){console.error("Error clearing services cache:",oe)}a({}),o({}),b(0),E=!0}if(C.current)return console.log("Services fetch already in progress, skipping"),{services:n,countries:s};const z=Date.now();if(!E&&f&&z-f<5e3)return console.log(`In cooling period for services, not fetching again. Last fetch: ${new Date(f).toLocaleTimeString()}`),{services:n,countries:s};if(!E&&Object.keys(n).length>0&&f&&z-f<60*60*1e3)return console.log("Using cached services data"),{services:n,countries:s};c(!0),C.current=!0,m(null);try{if(console.log(`Fetching services and countries data for provider: ${P}...`),!await T()){console.log("Server unavailable, using fallback data"),a(me),o(ce);const be=Date.now();b(be);try{sessionStorage.setItem("phoneServicesData",JSON.stringify({services:me,countries:ce,lastFetchTime:be,provider:P}))}catch(Ie){console.error("Error storing services in session storage:",Ie)}return{services:me,countries:ce}}const q=await se.getServicesAndCountries(A,O,P);a(q.services),o(q.countries);const Z=Date.now();b(Z);try{sessionStorage.setItem("phoneServicesData",JSON.stringify({services:q.services,countries:q.countries,lastFetchTime:Z,provider:P}))}catch(be){console.error("Error storing services in session storage:",be)}return console.log(`Successfully loaded ${Object.keys(q.services).length} services for provider: ${P}`),q}catch(oe){return console.error("Error fetching services:",oe),m(oe instanceof Error?oe:new Error("Failed to fetch services")),te.error("Failed to fetch services and countries"),Object.keys(n).length>0?{services:n,countries:s}:{services:me,countries:ce}}finally{c(!1),C.current=!1}},[f,T]),N=p.useCallback(async(E,A,O,W)=>{try{c(!0);const P=O==="all_countries"?"0":O,z=await se.rentNumber(E,A,P,W),$={id:z.id||`ph_${Date.now()}`,rent_id:z.rent_id||`rent_${Date.now()}`,phone_number:z.phone_number||(z.phone?z.phone.number:null)||(typeof z=="object"&&Object.values(z).length>0?Object.values(z)[0]:null),service:E,country:P,status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),end_date:z.end_date||new Date(Date.now()+1e3*60*60*parseInt(A||"4")).toISOString(),assignee_id:null};if(!$.phone_number)throw new Error("Invalid response from rental service");return setTimeout(()=>{S(!0)},1e3),te.success(`Successfully rented phone number: ${$.phone_number}`),$}catch(P){throw console.error("Error renting phone number:",P),te.error(P instanceof Error?P.message:"Failed to rent phone number"),P}finally{c(!1)}},[S]),_=p.useCallback(async E=>{try{c(!0);const A=await se.cancelRental(E);return S(!0),te.success("Phone number rental cancelled successfully"),A}catch(A){throw console.error("Error canceling phone number rental:",A),te.error(A instanceof Error?A.message:"Failed to cancel phone number rental"),A}finally{c(!1)}},[S]),F=p.useCallback(async(E,A)=>{try{c(!0);const O=await se.extendRental(E,A);return S(!0),te.success("Phone number rental extended successfully"),O}catch(O){throw console.error("Error extending phone number rental:",O),te.error(O instanceof Error?O.message:"Failed to extend phone number rental"),O}finally{c(!1)}},[S]),I=p.useCallback(async(E,A)=>{try{c(!0);const O=await se.assignPhoneNumber(E,A);return S(!0),te.success("Phone number assigned successfully"),O}catch(O){throw console.error("Error assigning phone number:",O),te.error(O instanceof Error?O.message:"Failed to assign phone number"),O}finally{c(!1)}},[S]);return p.useEffect(()=>{let E=!0;return(async()=>{if(!E||(await T(),!E)||(await S(),!E))return;let O={},W={};try{const P=sessionStorage.getItem("phoneServicesData");if(P){const z=JSON.parse(P);O=z.services||{},W=z.countries||{}}}catch(P){console.error("Error parsing stored services data:",P)}(Object.keys(O).length===0||Object.keys(W).length===0)&&await w()})(),()=>{E=!1}},[]),{phoneNumbers:e,services:n,countries:s,loading:i,error:u,serverStatus:g,lastFetchTime:k,fetchPhoneNumbers:S,fetchServicesAndCountries:w,rentPhoneNumber:N,cancelPhoneNumberRental:_,extendPhoneNumberRental:F,assignPhoneNumber:I,checkServerConnectivity:T}},Ka=e=>{const[t,n]=p.useState(()=>{if(!e)return[];try{const v=sessionStorage.getItem(`phoneMessages_${e}`);if(v){const f=JSON.parse(v);if(f.lastFetchTime&&Date.now()-f.lastFetchTime<12e4)return f.messages||[]}}catch(v){console.error("Error retrieving stored phone messages:",v)}return[]}),[a,s]=p.useState(!1),[o,i]=p.useState(null),[c,u]=p.useState(()=>{if(!e)return 0;try{const v=sessionStorage.getItem(`phoneMessages_${e}`);if(v)return JSON.parse(v).lastFetchTime||0}catch(v){console.error("Error retrieving last fetch time:",v)}return 0}),m=p.useRef(!1),g=p.useRef(e);p.useEffect(()=>{if(e!==g.current){if(g.current=e,e)try{const v=sessionStorage.getItem(`phoneMessages_${e}`);if(v){const f=JSON.parse(v);if(f.lastFetchTime&&Date.now()-f.lastFetchTime<2*60*1e3){n(f.messages||[]),u(f.lastFetchTime);return}}}catch(v){console.error("Error retrieving stored phone messages on change:",v)}n([]),u(0)}},[e]);const y=p.useCallback(async(v=!1)=>{if(!e)return[];if(m.current)return console.log("Messages fetch already in progress, skipping"),t;const f=Date.now();if(!v&&c&&f-c<3e3)return console.log(`In cooling period for messages, not fetching again. Last fetch: ${new Date(c).toLocaleTimeString()}`),t;c&&f-c<2*60*1e3||s(!0),m.current=!0,i(null);try{console.log(`Fetching messages for phone number: ${e}`);const{data:C,error:h}=await V.rpc("get_phone_messages",{p_phone_number_id:e});if(h)throw h;const T=C||[];console.log(`Found ${T.length} messages for phone number`),n(T);const S=Date.now();u(S);try{sessionStorage.setItem(`phoneMessages_${e}`,JSON.stringify({messages:T,lastFetchTime:S}))}catch(w){console.error("Error storing phone messages in session storage:",w)}return T}catch(C){return console.error("Error fetching phone messages:",C),i(C instanceof Error?C:new Error("Failed to fetch phone messages")),te.error("Failed to fetch phone messages"),[]}finally{s(!1),m.current=!1}},[e,c,t]),k=async(v,f)=>{if(!e)return te.error("No phone number selected"),null;try{s(!0);const{data:b,error:x}=await V.from("phone_messages").insert({phone_number_id:e,sender:v,message:f}).select().single();if(x)throw x;return await y(!0),te.success("Test message added successfully"),b}catch(b){throw console.error("Error adding test message:",b),te.error(b instanceof Error?b.message:"Failed to add test message"),b}finally{s(!1)}};return p.useEffect(()=>{e&&t.length===0&&c===0&&y()},[e,y,t.length,c]),{messages:t,loading:a,error:o,lastFetchTime:c,fetchMessages:y,addTestMessage:k}},Ha=()=>{const[e,t]=p.useState(null),[n,a]=p.useState(!0),[s,o]=p.useState(null),i=async()=>{try{a(!0),o(null);const c=await fetch("/api/phone/providers");if(!c.ok)throw new Error(`HTTP ${c.status}: ${c.statusText}`);const u=await c.json();if(u.status==="success")t(u.data);else throw new Error(u.message||"Failed to fetch providers")}catch(c){console.error("Error fetching available providers:",c),o(c.message||"Failed to fetch available providers"),t({providers:{sms_activate:{available:!0,name:"SMS-Activate",description:"International SMS service"},smspva:{available:!0,name:"SMSPVA",description:"Russian SMS service"},anosim:{available:!0,name:"Anosim",description:"German SMS service"},gogetsms:{available:!0,name:"GoGetSMS",description:"International SMS service"},receive_sms_online:{available:!0,name:"Receive SMS Online",description:"Manual SMS collection"}},availableCount:5,totalCount:5})}finally{a(!1)}};return p.useEffect(()=>{i()},[]),{providers:e,loading:n,error:s,refetch:i}},Wa=({onClose:e,onAdd:t,loading:n=!1})=>{const[a,s]=p.useState(""),[o,i]=p.useState(null),[c,u]=p.useState(""),[m,g]=p.useState(!1),[y,k]=p.useState([]),[v,f]=p.useState(!1),[b,x]=p.useState(""),[C,h]=p.useState(!1);p.useEffect(()=>{s(""),i(null),u(""),k([]),x(""),h(!1)},[]),p.useEffect(()=>{if(!a.trim()){i(null),u("");return}const N=setTimeout(async()=>{g(!0),u("");try{if(!we.validateUrl(a))throw new Error("Invalid receive-sms-online.info URL format");const _=we.parseUrl(a);if(!_)throw new Error("Could not extract phone number and access key from URL");const F=we.detectCountry(_.phoneNumber);i({phoneNumber:_.phoneNumber,accessKey:_.accessKey,country:F,isValid:!0})}catch(_){u(_ instanceof Error?_.message:"Invalid URL"),i(null)}finally{g(!1)}},500);return()=>clearTimeout(N)},[a]);const T=async()=>{if(!(!(o!=null&&o.isValid)||!a)){f(!0),x(""),k([]),h(!0);try{console.log("Starting backend message preview for URL:",a);const w=await fetch("/api/phone/receive-sms/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a})});if(!w.ok)throw new Error(`Backend request failed: ${w.status} ${w.statusText}`);const N=await w.json();console.log("Backend scraping result:",N),N.success?(k(N.messages),N.messages.length===0&&x("No messages found. The phone number might be new or inactive.")):x(N.error||"Failed to fetch messages from backend")}catch(w){console.error("Backend preview error:",w),x(w instanceof Error?w.message:"Failed to preview messages via backend")}finally{f(!1)}}},S=async w=>{if(w.preventDefault(),!(o!=null&&o.isValid)||!a.trim()){u("Please enter a valid receive-sms-online.info URL");return}try{await t(a.trim()),e()}catch(N){u(N instanceof Error?N.message:"Failed to add phone number")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(ht,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),r.jsx("div",{children:r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add a phone number from receive-sms-online.info by entering the private URL. This will allow you to receive SMS messages through web scraping."})})]}),r.jsxs("form",{onSubmit:S,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Receive-SMS-Online.info URL"}),r.jsxs("div",{className:"relative",children:[r.jsx(gr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"url",id:"url",value:a,onChange:w=>s(w.target.value),placeholder:"https://receive-sms-online.info/private.php?phone=4915123456789&key=abc123",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",disabled:n}),m&&r.jsx("div",{className:"absolute right-3 top-3",children:r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]}),c&&r.jsxs("div",{className:"mt-2 flex items-center text-sm text-red-600 dark:text-red-400",children:[r.jsx(Ht,{className:"h-4 w-4 mr-1"}),c]})]}),(o==null?void 0:o.isValid)&&r.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx(sn,{className:"h-5 w-5 text-green-600 dark:text-green-400 mr-2"}),r.jsx("h4",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"URL Successfully Parsed"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-green-700 dark:text-green-300",children:"Phone Number:"}),r.jsx("div",{className:"text-green-600 dark:text-green-400 font-mono",children:o.phoneNumber})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-green-700 dark:text-green-300",children:"Country:"}),r.jsx("div",{className:"text-green-600 dark:text-green-400",children:o.country})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-green-700 dark:text-green-300",children:"Access Key:"}),r.jsxs("div",{className:"text-green-600 dark:text-green-400 font-mono",children:[o.accessKey.substring(0,8),"..."]})]})]}),r.jsx("div",{className:"mt-4 pt-3 border-t border-green-200 dark:border-green-800",children:r.jsx("div",{className:"flex space-x-2",children:r.jsx(B,{type:"button",variant:"ghost",size:"sm",onClick:T,disabled:v,leftIcon:r.jsx(on,{}),children:v?"Loading Preview...":"Preview Messages"})})})]}),C&&r.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:["Message Preview (",y.length," messages)"]}),b&&r.jsxs("div",{className:"mb-3 flex items-center text-sm text-amber-600 dark:text-amber-400",children:[r.jsx(Ht,{className:"h-4 w-4 mr-1"}),b]}),v?r.jsx("div",{className:"text-center py-8",children:r.jsxs("div",{className:"inline-flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading messages..."})]})}):y.length>0?r.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[y.slice(0,3).map((w,N)=>r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded p-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between items-start mb-1",children:[r.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:w.sender}),r.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(w.received_at).toLocaleString()})]}),r.jsx("div",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:w.message}),(()=>{const _=w.message.match(/\b\d{4,8}\b/);return _?r.jsxs("div",{className:"mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200",children:["Code: ",_[0]]}):null})()]},N)),y.length>3&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center py-2",children:["... and ",y.length-3," more messages"]})]}):r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No messages found for this phone number"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(B,{type:"button",onClick:e,variant:"secondary",disabled:n,children:"Cancel"}),r.jsx(B,{type:"submit",disabled:!(o!=null&&o.isValid)||n,isLoading:n,leftIcon:r.jsx(Oe,{}),children:"Add Phone Number"})]})]})]})},nt=({isOpen:e,onClose:t,title:n,children:a,size:s="lg"})=>{const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),r.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle",children:"​"}),r.jsx("div",{className:`inline-block transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 text-left align-bottom shadow-xl transition-all sm:my-8 sm:align-middle ${o[s]} w-full`,children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:n}),r.jsxs("button",{onClick:t,className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[r.jsx("span",{className:"sr-only",children:"Close"}),r.jsx(wt,{className:"h-6 w-6"})]})]}),r.jsx("div",{children:a})]})})]})}):null},Ja=({isOpen:e,onClose:t,onRent:n,loading:a})=>{const[s,o]=p.useState(""),[i,c]=p.useState("4"),[u,m]=p.useState("0"),[g,y]=p.useState("any"),[k,v]=p.useState(!1),{showToast:f}=_e(),{colors:b}=St(),x=[{code:"full",name:"Vollständige Nummer (Full Rental)",cost:"~$4.78"},{code:"wa",name:"WhatsApp",cost:"~$0.50"},{code:"tg",name:"Telegram",cost:"~$0.30"},{code:"go",name:"Google/Gmail",cost:"~$0.60"},{code:"fb",name:"Facebook",cost:"~$0.80"},{code:"ig",name:"Instagram",cost:"~$0.90"},{code:"tw",name:"Twitter/X",cost:"~$1.20"},{code:"ds",name:"Discord",cost:"~$0.70"},{code:"vi",name:"Viber",cost:"~$0.40"},{code:"other",name:"Andere Dienste",cost:"Variabel"}],C=[{code:"43",name:"Deutschland 🇩🇪"},{code:"16",name:"UK 🇬🇧"},{code:"33",name:"Frankreich 🇫🇷"},{code:"39",name:"Italien 🇮🇹"},{code:"34",name:"Spanien 🇪🇸"},{code:"31",name:"Niederlande 🇳🇱"},{code:"7",name:"USA 🇺🇸"},{code:"0",name:"Russland 🇷🇺"},{code:"187",name:"Philippinen 🇵🇭"}],h=[{value:"4",label:"4 Stunden - Kurzzeitmiete"},{value:"24",label:"1 Tag (24 Stunden)"},{value:"72",label:"3 Tage (72 Stunden)"},{value:"168",label:"7 Tage (168 Stunden)"}],T=async()=>{if(!s){f({type:"error",title:"Fehler",message:"Bitte wählen Sie einen Service"});return}try{await n({provider:"sms_activate",service:s,rentTime:i,country:u,operator:g,incomingCall:k}),t()}catch(S){f({type:"error",title:"Fehler bei der Miete",message:S.message||"SMS-Activate Nummer konnte nicht gemietet werden"})}};return r.jsx(nt,{isOpen:e,onClose:t,title:"📱 SMS-Activate - Nummer mieten",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:r.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[r.jsx("strong",{children:"SMS-Activate"})," - Globaler SMS-Empfangsdienst mit wettbewerbsfähigen Preisen"]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:s,onChange:S=>o(S.target.value),disabled:a,children:[r.jsx("option",{value:"",children:"Service auswählen..."}),x.map(S=>r.jsxs("option",{value:S.code,children:[S.name," ",S.cost&&`- ${S.cost}`]},S.code))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Land"}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:u,onChange:S=>m(S.target.value),disabled:a,children:C.map(S=>r.jsx("option",{value:S.code,children:S.name},S.code))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mietdauer"}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:i,onChange:S=>c(S.target.value),disabled:a,children:h.map(S=>r.jsx("option",{value:S.value,children:S.label},S.value))})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"incoming-call",checked:k,onChange:S=>v(S.target.checked),className:"rounded"}),r.jsx("label",{htmlFor:"incoming-call",className:"text-sm text-gray-700 dark:text-gray-300",children:"Unterstützung für eingehende Anrufe einbeziehen"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(B,{onClick:t,variant:"secondary",children:"Abbrechen"}),r.jsx(B,{onClick:T,disabled:!s||a,style:{backgroundColor:b.primary,color:"white"},className:"hover:opacity-90 transition-opacity",children:a?"Wird gemietet...":"Nummer mieten"})]})]})})},dr=({options:e,value:t,onChange:n,placeholder:a,disabled:s=!1,className:o=""})=>{const[i,c]=p.useState(!1),[u,m]=p.useState(""),[g,y]=p.useState(e);p.useEffect(()=>{const b=e.filter(x=>x.name.toLowerCase().includes(u.toLowerCase())||x.code.toLowerCase().includes(u.toLowerCase()));y(b)},[u,e]);const k=e.find(b=>b.code===t),v=b=>{n(b),c(!1),m("")},f=b=>{b.stopPropagation(),n(""),m("")};return r.jsxs("div",{className:`relative ${o}`,children:[r.jsxs("div",{className:`
          w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md 
          bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
          cursor-pointer flex items-center justify-between
          ${s?"opacity-50 cursor-not-allowed":"hover:border-blue-500 dark:hover:border-blue-400"}
          ${i?"border-blue-500 dark:border-blue-400 ring-1 ring-blue-500 dark:ring-blue-400":""}
        `,onClick:()=>!s&&c(!i),children:[r.jsx("span",{className:k?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400",children:k?k.name:a}),r.jsxs("div",{className:"flex items-center gap-1",children:[k&&!s&&r.jsx("button",{onClick:f,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(wt,{className:"h-3 w-3"})}),r.jsx(hr,{className:`h-4 w-4 transition-transform ${i?"rotate-180":""}`})]})]}),i&&!s&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden",children:[r.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"relative",children:[r.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Suchen...",value:u,onChange:b=>m(b.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400",autoFocus:!0})]})}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:g.length>0?g.map(b=>r.jsxs("div",{className:`
                    px-3 py-2 cursor-pointer text-sm
                    ${t===b.code?"bg-blue-50 dark:bg-blue-900 text-blue-900 dark:text-blue-100":"hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100"}
                  `,onClick:()=>v(b.code),children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",b.code]})]},b.code)):r.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"Keine Ergebnisse gefunden"})})]})]})},Za=({isOpen:e,onClose:t,onRent:n,loading:a=!1})=>{const[s,o]=p.useState("activation"),[i,c]=p.useState("go"),[u,m]=p.useState("43"),[g,y]=p.useState("4"),{showToast:k}=_e(),v=[{code:"ot",name:"OTHER (nicht garantiert)"},{code:"go",name:"Google, YouTube, Gmail"},{code:"wa",name:"WhatsApp"},{code:"tg",name:"Telegram"},{code:"fb",name:"Facebook"},{code:"ig",name:"Instagram"},{code:"mm",name:"Microsoft"},{code:"oi",name:"Tinder"},{code:"lf",name:"TikTok/Douyin"},{code:"am",name:"Amazon"},{code:"mb",name:"Yahoo"},{code:"ts",name:"PayPal"},{code:"vk",name:"VK.com"},{code:"ds",name:"Discord"},{code:"hw",name:"Alipay/Alibaba"},{code:"tw",name:"Twitter"},{code:"wx",name:"Apple"},{code:"dh",name:"eBay"},{code:"mt",name:"Steam"},{code:"wb",name:"WeChat"},{code:"vi",name:"Viber"},{code:"vz",name:"Hinge"},{code:"li",name:"Baidu"},{code:"nv",name:"Naver"},{code:"dr",name:"OpenAI / Chat GPT"},{code:"yw",name:"Grindr"},{code:"mj",name:"Zalo"},{code:"pm",name:"AOL"},{code:"pf",name:"pof.com"},{code:"me",name:"Line msg"},{code:"bw",name:"Signal"},{code:"ew",name:"Nike"},{code:"gp",name:"Ticketmaster"},{code:"tn",name:"LinkedIN"},{code:"fu",name:"Snapchat"},{code:"ub",name:"Uber"},{code:"tx",name:"Bolt"},{code:"kc",name:"Vinted"},{code:"ua",name:"BlaBlaCar"},{code:"cn",name:"Fiverr"},{code:"bz",name:"Blizzard"},{code:"ie",name:"bet365"},{code:"vm",name:"OkCupid"},{code:"qq",name:"Tencent QQ"},{code:"mo",name:"Bumble"},{code:"kt",name:"KakaoTalk"},{code:"wh",name:"TanTan"},{code:"rr",name:"Wolt"},{code:"yi",name:"Yemeksepeti"},{code:"nz",name:"Foodpanda"},{code:"do",name:"Leboncoin"},{code:"dl",name:"Lazada"},{code:"ma",name:"Mail.ru"},{code:"ka",name:"Shopee"},{code:"rc",name:"Skype"},{code:"abk",name:"GMX"},{code:"ahb",name:"Ubisoft"},{code:"zk",name:"Deliveroo"},{code:"uf",name:"Eneba"},{code:"hx",name:"AliExpress"},{code:"za",name:"JDcom"},{code:"ta",name:"Wink"},{code:"jq",name:"Paysafecard"},{code:"bo",name:"Wise"},{code:"re",name:"Coinbase (nicht garantiert)"},{code:"abe",name:"Foodora"},{code:"acz",name:"Claude"},{code:"sg",name:"Ozon"},{code:"aq",name:"Glovo"},{code:"qd",name:"Taobao"},{code:"im",name:"Imo"},{code:"uk",name:"Airbnb"},{code:"agm",name:"Coffee Meets Bagel (CMB)"},{code:"lc",name:"Subito.it"},{code:"ue",name:"Onet"},{code:"ok",name:"Odnoklassniki"},{code:"abc",name:"Taptap Send"},{code:"ex",name:"Linode"},{code:"agb",name:"Smiles"},{code:"fd",name:"Mamba"},{code:"vd",name:"Betfair"},{code:"bx",name:"dosi"},{code:"jg",name:"Grab"},{code:"qb",name:"Payberry"},{code:"ck",name:"BeReal"},{code:"ya",name:"Yandex"},{code:"nf",name:"Netflix"},{code:"mv",name:"Fruitz"},{code:"wo",name:"Parkplus"},{code:"df",name:"Happn"},{code:"sn",name:"OLX"},{code:"ni",name:"Gojek"},{code:"bc",name:"gcash"},{code:"qf",name:"RedBook"},{code:"yl",name:"Yalla"},{code:"kk",name:"Idealista.com"},{code:"ajy",name:"All Access"},{code:"fr",name:"Dana"},{code:"afz",name:"Klarna"},{code:"ac",name:"DoorDash"},{code:"kf",name:"Weibo"},{code:"yq",name:"Mail.com"},{code:"akl",name:"DOKU"},{code:"hb",name:"Twitch"},{code:"tl",name:"Truecaller"},{code:"yr",name:"Miravia"},{code:"ab",name:"Alibaba"},{code:"te",name:"EFood"},{code:"cb",name:"Bazos"},{code:"ul",name:"Getir"},{code:"ads",name:"GoChat"},{code:"are",name:"Seated"},{code:"zs",name:"Bilibili"},{code:"gx",name:"Hepsiburadacom"},{code:"ags",name:"Abbott"},{code:"abo",name:"WEBDE"},{code:"ib",name:"Immowelt"},{code:"wk",name:"Mobile01"},{code:"yu",name:"Xiaomi"},{code:"abu",name:"BPJSTK"},{code:"wp",name:"163com"},{code:"ayk",name:"radquest"},{code:"gj",name:"Carousell"},{code:"qj",name:"Whoosh"},{code:"ij",name:"Revolut"},{code:"ae",name:"myGLO"},{code:"abv",name:"ABV BG"},{code:"nc",name:"Payoneer"},{code:"ju",name:"Indomaret"},{code:"vp",name:"Kwai"},{code:"qw",name:"Qiwi"},{code:"xk",name:"DiDi"},{code:"fk",name:"BLIBLI"},{code:"dp",name:"ProtonMail"},{code:"bp",name:"GoFundMe"},{code:"cw",name:"PaddyPower"},{code:"pr",name:"Trendyol"},{code:"dv",name:"NoBroker"},{code:"fs",name:"Şikayet var"},{code:"aik",name:"ZUS Coffee"},{code:"abt",name:"ArenaPlus"},{code:"abq",name:"Upwork"},{code:"dn",name:"Paxful"},{code:"lj",name:"Santander"},{code:"xh",name:"OVO"},{code:"akr",name:"Voi"},{code:"axq",name:"Eventbrite"},{code:"xy",name:"Depop"},{code:"agv",name:"DoneDeal"},{code:"bl",name:"BIGO LIVE"},{code:"ayc",name:"HungerStation"},{code:"zh",name:"Zoho"},{code:"ada",name:"TRUTH SOCIAL"},{code:"tr",name:"Paysend"},{code:"qv",name:"Badoo"},{code:"ti",name:"Crypto.com"},{code:"tc",name:"Rambler"},{code:"ca",name:"SuperS"},{code:"tv",name:"Flink"},{code:"tu",name:"Lyft"},{code:"agk",name:"Ipsos iSay"},{code:"ahe",name:"Bunq"},{code:"ee",name:"Twilio"},{code:"av",name:"avito"},{code:"zn",name:"Biedronka"},{code:"iq",name:"icq"},{code:"agl",name:"Betano"},{code:"xd",name:"Tokopedia"},{code:"asy",name:"Fore Coffee"},{code:"aem",name:"AstraPay"},{code:"il",name:"IQOS"},{code:"wg",name:"Skout"},{code:"ym",name:"Youla"},{code:"zp",name:"Pinduoduo"},{code:"oz",name:"Poshmark"},{code:"afy",name:"Tuul"},{code:"adt",name:"Willhaben"},{code:"cq",name:"Mercado"},{code:"hu",name:"Ukrnet"},{code:"ff",name:"AVON"},{code:"cp",name:"Uklon"},{code:"hs",name:"Asda"},{code:"ano",name:"Shopify"},{code:"aix",name:"Move It"},{code:"aag",name:"Pockit"},{code:"jd",name:"GiraBank"},{code:"bhe",name:"Jagocoffee"},{code:"aol",name:"Paysera"},{code:"agi",name:"Njuškalo"},{code:"anh",name:"Cadbury"},{code:"pz",name:"Lidl"},{code:"yn",name:"Allegro"},{code:"apd",name:"2dehands"},{code:"br",name:"Вкусно и точка"},{code:"rt",name:"hily"},{code:"ll",name:"888casino"},{code:"aps",name:"Skelbiu"},{code:"cm",name:"Prom"},{code:"rl",name:"inDriver"},{code:"hn",name:"1688"},{code:"bmi",name:"Sisal"},{code:"zo",name:"Kaggle"},{code:"km",name:"Rozetka"},{code:"ho",name:"Cathay"},{code:"eu",name:"LiveScore"},{code:"agj",name:"Marktplaats"},{code:"gq",name:"Freelancer"},{code:"aeu",name:"TheFork"},{code:"uu",name:"Wildberries"},{code:"zb",name:"FreeNow"},{code:"bn",name:"Alfagift"},{code:"xx",name:"Joyride"},{code:"uz",name:"OffGamers"},{code:"ani",name:"Talabat"},{code:"pu",name:"Justdating"},{code:"oe",name:"Codashop"},{code:"wc",name:"Craigslist"},{code:"aup",name:"BOTIM"},{code:"jr",name:"Самокат"},{code:"app",name:"ClassPass"},{code:"ahd",name:"OpenPhone"},{code:"ns",name:"OLDUBIL"},{code:"qx",name:"WorldRemit"},{code:"aqy",name:"SAPO"},{code:"vy",name:"Meta"},{code:"px",name:"Nifty"},{code:"xs",name:"GroupMe"},{code:"anl",name:"AttaPoll"},{code:"aly",name:"Bebeclub"},{code:"cv",name:"WashXpress"},{code:"yj",name:"eWallet"},{code:"zf",name:"OnTaxi"},{code:"ars",name:"Bingo Plus"},{code:"pp",name:"Huya"},{code:"gd",name:"Surveytime"},{code:"apf",name:"Carrefour"},{code:"ang",name:"TOMORO COFFEE"},{code:"ji",name:"Monobank"},{code:"avb",name:"Tealive"},{code:"fz",name:"KFC"},{code:"sd",name:"dodopizza"},{code:"jy",name:"Sorare"},{code:"mg",name:"Магнит"},{code:"mx",name:"SoulApp"},{code:"et",name:"Clubhouse"},{code:"aiv",name:"Striving in the Lion City"},{code:"hm",name:"Globus"},{code:"avj",name:"SumUp"},{code:"ahr",name:"This Fate"},{code:"gc",name:"TradingView"},{code:"afc",name:"Bunda"},{code:"sw",name:"NCsoft"},{code:"xr",name:"Tango"},{code:"kh",name:"Bukalapak"},{code:"fj",name:"Potato Chat"},{code:"th",name:"WestStein"},{code:"ane",name:"Supercell"},{code:"gr",name:"Astropay"},{code:"qz",name:"Faceit"},{code:"hy",name:"Ininal"},{code:"aco",name:"AR Lens"},{code:"aip",name:"AfreecaTV"},{code:"atz",name:"Air India"},{code:"ja",name:"Weverse"},{code:"alx",name:"NutriClub"},{code:"gt",name:"Gett"},{code:"ls",name:"Careem"},{code:"fv",name:"Vidio"},{code:"aon",name:"Binance"},{code:"qh",name:"Oriflame"},{code:"lx",name:"DewuPoison"},{code:"yk",name:"СпортМастер"},{code:"aez",name:"Shein"},{code:"ef",name:"Nextdoor"},{code:"bd",name:"X5ID"},{code:"azh",name:"Vivid"},{code:"ait",name:"FeetFinder"},{code:"my",name:"Caixa Bank"},{code:"aer",name:"PlayerAuctions"},{code:"aow",name:"Geekay"},{code:"no",name:"Virgo"},{code:"zd",name:"Zilch"},{code:"qy",name:"Zhihu"},{code:"ze",name:"Shpock"},{code:"uh",name:"Yubo"},{code:"wd",name:"CasinoPlus"},{code:"als",name:"Greggs"},{code:"aqt",name:"Skrill"},{code:"adu",name:"Seznam"},{code:"og",name:"Okko"},{code:"akd",name:"Feels"},{code:"bul",name:"Openbank"},{code:"agc",name:"VIMpay"},{code:"ayr",name:"Superbet"},{code:"rz",name:"EasyPay"},{code:"xf",name:"LightChat"},{code:"gg",name:"PagSmile"},{code:"jf",name:"Likee"},{code:"ow",name:"Reg.ru"},{code:"qn",name:"Blued"},{code:"gm",name:"Mocospace"},{code:"aka",name:"LinkAja"},{code:"ft",name:"Букмекерск"},{code:"mw",name:"Transfergo"},{code:"ah",name:"EscapeFromTarkov"},{code:"nq",name:"Trip"},{code:"eq",name:"Qoo10"},{code:"avk",name:"Quoka"},{code:"gs",name:"SamsungShop"},{code:"awv",name:"wallapop"},{code:"vr",name:"MotorkuX"},{code:"wl",name:"YouGotaGift"},{code:"sq",name:"KuCoinPlay"},{code:"aje",name:"CupidMedia"},{code:"ak",name:"Douyu"},{code:"fi",name:"Dundle"},{code:"aar",name:"Bearwww"},{code:"aav",name:"Alchemy"},{code:"mc",name:"Michat"},{code:"ry",name:"McDonalds"},{code:"aub",name:"Smitten"},{code:"gf",name:"GoogleVoice"},{code:"sk",name:"Skroutz"},{code:"ko",name:"AdaKami"},{code:"aga",name:"Publi24"},{code:"dt",name:"Delivery Club"},{code:"aeq",name:"Godrej"},{code:"azf",name:"Welocalize"},{code:"jc",name:"IVI"},{code:"py",name:"Monese"},{code:"bv",name:"Metro"},{code:"zu",name:"BigC"},{code:"ajn",name:"Gopuff"},{code:"bha",name:"kopikenangan"},{code:"agd",name:"Grailed"},{code:"rd",name:"Lenta"},{code:"wj",name:"1хbet"},{code:"kq",name:"FotoCasa"},{code:"yx",name:"JTExpress"},{code:"aiw",name:"СушиВёсла"},{code:"aeo",name:"Allofresh"},{code:"anj",name:"Gemini"},{code:"ep",name:"Temu"},{code:"sc",name:"Voggt"},{code:"ws",name:"Indodax"},{code:"wr",name:"Walmart"},{code:"ajd",name:"Bankera"},{code:"yf",name:"Citymobil"},{code:"yo",name:"Amasia"},{code:"xv",name:"Wish"},{code:"aok",name:"Neteller"},{code:"ahf",name:"Fugeelah"},{code:"bke",name:"footdistrict"},{code:"qe",name:"GG"},{code:"afp",name:"VFS GLOBAL"},{code:"lw",name:"MrGreen"},{code:"ud",name:"Disney"},{code:"bex",name:"Whatnot"},{code:"abn",name:"Namars"},{code:"zy",name:"NTTGame"},{code:"kn",name:"Verse"},{code:"abl",name:"Gpnbonus"},{code:"si",name:"Cita Previa"},{code:"uv",name:"BinBin"},{code:"auz",name:"Outlier"},{code:"an",name:"Adidas"},{code:"nt",name:"Sravni.ru"},{code:"aeg",name:"Flowwow"},{code:"vc",name:"Banqi"},{code:"aor",name:"OKX"},{code:"bea",name:"Binmo"},{code:"xg",name:"FortunaSK"},{code:"alo",name:"Profee"},{code:"xz",name:"Paycell"},{code:"tm",name:"Akulaku"},{code:"agw",name:"Adverts"},{code:"ai",name:"CELEBe"},{code:"agn",name:"Flik"},{code:"akj",name:"Easycash"},{code:"dz",name:"Dominos Pizza"},{code:"dq",name:"IceCasino"},{code:"aev",name:"BankKaro"},{code:"lt",name:"BitClout"},{code:"ng",name:"FunPay"},{code:"afd",name:"Astra Otoshop"},{code:"amp",name:"VerifyKit"},{code:"qr",name:"MEGA"},{code:"jh",name:"PingPong"},{code:"rk",name:"Fotka"},{code:"ov",name:"Beget"},{code:"fh",name:"Lalamove"},{code:"mp",name:"Winmasters"},{code:"ui",name:"RuTube"},{code:"zr",name:"Papara"},{code:"fe",name:"CliQQ"},{code:"nu",name:"Stripe"},{code:"od",name:"FWDMAX"},{code:"bk",name:"G2G"},{code:"akp",name:"Her"},{code:"amb",name:"Vercel"},{code:"ip",name:"Burger King"},{code:"rx",name:"Sheerid"},{code:"zg",name:"Setel"},{code:"of",name:"Urent"},{code:"it",name:"CashApp"},{code:"aaq",name:"Netease"},{code:"aft",name:"Neocrypto"},{code:"zl",name:"Airtel"},{code:"rm",name:"Faberlic"},{code:"po",name:"premium.one"},{code:"ce",name:"Mosru"},{code:"da",name:"MTS CashBack"},{code:"wt",name:"IZI"},{code:"auh",name:"KeeTa 美团"},{code:"agg",name:"OneForma"},{code:"abr",name:"Privy"},{code:"acm",name:"Razer"},{code:"amz",name:"ImmoScout24"},{code:"anf",name:"ZoomInfo"},{code:"ata",name:"Authy"},{code:"hz",name:"Drom"},{code:"td",name:"ChaingeFinance"},{code:"tf",name:"Noon"},{code:"agy",name:"Baihe"},{code:"adc",name:"PlayOJO"},{code:"ny",name:"Pyro Music"},{code:"jj",name:"Aitu"},{code:"hc",name:"MOMO"},{code:"es",name:"iQIYI"},{code:"aby",name:"Couponscom"},{code:"avu",name:"Karos"},{code:"ol",name:"KazanExpress"},{code:"sb",name:"Lamoda"},{code:"ys",name:"ZCity"},{code:"zx",name:"CommunityGaming"},{code:"iw",name:"MyLavash"},{code:"zj",name:"Robinhood Crypto"},{code:"ahl",name:"Maxim"},{code:"afg",name:"Zenvia"},{code:"abz",name:"Friendtech"},{code:"afn",name:"Roomster"},{code:"ahj",name:"Strato"},{code:"anq",name:"Hitnspin"},{code:"arn",name:"GFK"},{code:"awj",name:"HyperJar"},{code:"fx",name:"PGbonus"},{code:"bf",name:"Keybase"},{code:"cc",name:"Quipp"},{code:"qi",name:"23red"},{code:"mr",name:"Fastmail"},{code:"ej",name:"MrQ"},{code:"mi",name:"Zupee"},{code:"rh",name:"Ace2Three"},{code:"lz",name:"Things"},{code:"asv",name:"Bilderlings"},{code:"aoe",name:"Sendwave"},{code:"aom",name:"Monzo"},{code:"zz",name:"Dent"},{code:"fy",name:"Mylove"},{code:"sv",name:"Dostavista"},{code:"kz",name:"NimoTV"},{code:"xe",name:"GalaxyChat"},{code:"en",name:"Hermes"},{code:"yg",name:"CourseHero"},{code:"lv",name:"Megogo"},{code:"lm",name:"FarPost"},{code:"bm",name:"MarketGuru"},{code:"dd",name:"CloudChat"},{code:"adv",name:"Cian"},{code:"aee",name:"Amway"},{code:"afo",name:"KION"},{code:"ard",name:"Maya"},{code:"awb",name:"FlixBus"},{code:"bas",name:"Stoiximan"},{code:"ss",name:"Hezzl"},{code:"kp",name:"HQ Trivia"},{code:"de",name:"Karusel"},{code:"gb",name:"YouStar"},{code:"sf",name:"SneakersnStuff"},{code:"kw",name:"Foody"},{code:"ve",name:"Dream11"},{code:"hg",name:"Switips"},{code:"gz",name:"LYKA"},{code:"kr",name:"Eyecon"},{code:"hk",name:"4Fun"},{code:"nn",name:"Giftcloud"},{code:"gw",name:"CallApp"},{code:"mk",name:"LongHu"},{code:"iy",name:"FoodHub"},{code:"aw",name:"Taikang"},{code:"vj",name:"Stormgain"},{code:"cr",name:"TenChat"},{code:"us",name:"IRCTC"},{code:"jx",name:"Swiggy"},{code:"ba",name:"Expressmoney"},{code:"nw",name:"Ximalaya"},{code:"kj",name:"YAPPY"},{code:"ty",name:"Okey"},{code:"oo",name:"Liga Pro"},{code:"vs",name:"WinZO Games"},{code:"wf",name:"YandexGo"},{code:"wv",name:"AIS"},{code:"nh",name:"AlloBank"},{code:"pw",name:"SellMonitor"},{code:"um",name:"Belwest"},{code:"vq",name:"LadyMaria"},{code:"ao",name:"UU163"},{code:"at",name:"Perfluence"},{code:"cl",name:"UWIN"},{code:"wz",name:"FoxFord"},{code:"uq",name:"TopDetal"},{code:"dj",name:"LUKOIL"},{code:"ye",name:"ZaleyCash"},{code:"vt",name:"Budget4me"},{code:"xc",name:"SynotTip"},{code:"xo",name:"Notifire"},{code:"wy",name:"Yami"},{code:"wm",name:"SMO71"},{code:"ahx",name:"Bitrue"},{code:"acw",name:"YouDo"},{code:"afj",name:"SKCAPITAL"},{code:"aap",name:"Tiptapp"},{code:"adr",name:"Boosty"},{code:"aed",name:"Kamatera"},{code:"aat",name:"TamTam"},{code:"ahv",name:"Surveybell"},{code:"ain",name:"SpaceWeb"},{code:"aim",name:"Smartfren"},{code:"aau",name:"RockeTreach"},{code:"ach",name:"Haleon"},{code:"ajg",name:"Fortumo"},{code:"acd",name:"CheckDomain"},{code:"aek",name:"EnerGO"},{code:"agx",name:"MeiQFashion"},{code:"agu",name:"Marlboro"},{code:"aif",name:"Royal Canin"},{code:"abf",name:"Mercado Pago"},{code:"afl",name:"Vsesmart"},{code:"afb",name:"Maybank"},{code:"aex",name:"Neon"},{code:"ala",name:"GetResponse"},{code:"ale",name:"Lydia / Sumeria"},{code:"anp",name:"Blackcatcard"},{code:"anv",name:"Claro Pay"},{code:"alz",name:"CasinoAndFriends"},{code:"api",name:"KKTIX"},{code:"apt",name:"Airwallex"},{code:"atp",name:"Vonage"},{code:"asq",name:"Warpcast"},{code:"arl",name:"Myinvestor"},{code:"atl",name:"Watsons MY"},{code:"avn",name:"G42"},{code:"aqm",name:"Tala"},{code:"awq",name:"Atlas Earth"},{code:"bbf",name:"Neosurf"},{code:"bbq",name:"Chime"},{code:"bay",name:"Genome"},{code:"bfg",name:"EMAG"},{code:"bfe",name:"MuchBetter"},{code:"bgj",name:"MoonPay"},{code:"bgg",name:"Link.com"},{code:"bhh",name:"Appen"},{code:"bhz",name:"Eurobet"},{code:"biz",name:"BeCharge"},{code:"bjv",name:"Lotoclub"},{code:"bix",name:"HOTEL101"},{code:"bod",name:"Genspark"},{code:"boh",name:"YoPhone"},{code:"bla",name:"FDJ PARIONS SPORT"},{code:"bqp",name:"Zara"},{code:"bqb",name:"Weex"},{code:"bks",name:"Heetch"},{code:"brr",name:"LemFi"}],f=v,b=[{code:"16",name:"Vereinigtes Königreich"},{code:"34",name:"Estland"},{code:"44",name:"Litauen"},{code:"49",name:"Lettland"},{code:"6",name:"Indonesien"},{code:"43",name:"Deutschland"},{code:"56",name:"Spanien"},{code:"77",name:"Zypern"},{code:"4",name:"Philippinen"},{code:"86",name:"Italien"},{code:"45",name:"Kroatien"},{code:"48",name:"Niederlande"},{code:"7",name:"Malaysia"},{code:"15",name:"Polen"},{code:"50",name:"Österreich"},{code:"78",name:"Frankreich"},{code:"52",name:"Thailand"},{code:"172",name:"Dänemark"},{code:"32",name:"Rumänien"},{code:"23",name:"Irland"},{code:"63",name:"Tschechien"},{code:"129",name:"Griechenland"},{code:"163",name:"Finnland"},{code:"117",name:"Portugal"},{code:"39",name:"Argentinien"},{code:"31",name:"Südafrika"},{code:"0",name:"Russland"},{code:"46",name:"Schweden"},{code:"59",name:"Slowenien"},{code:"14",name:"Hongkong"},{code:"1",name:"Ukraine"},{code:"2",name:"Kasachstan"},{code:"73",name:"Brasilien"},{code:"175",name:"Australien"},{code:"187",name:"Vereinigte Staaten"},{code:"128",name:"Georgien"},{code:"67",name:"Neuseeland"},{code:"13",name:"Israel"},{code:"83",name:"Bulgarien"},{code:"196",name:"Singapur"},{code:"24",name:"Kambodscha"},{code:"37",name:"Marokko"},{code:"82",name:"Belgien"},{code:"141",name:"Slowakei"},{code:"201",name:"Gibraltar"},{code:"54",name:"Mexiko"},{code:"33",name:"Kolumbien"},{code:"8",name:"Kenia"},{code:"65",name:"Peru"},{code:"11",name:"Kirgisistan"},{code:"87",name:"Paraguay"},{code:"151",name:"Chile"},{code:"25",name:"Laos"},{code:"108",name:"Bosnien und Herzegowina"},{code:"19",name:"Nigeria"},{code:"174",name:"Norwegen"},{code:"95",name:"Vereinigte Arabische Emirate"},{code:"61",name:"Senegal"},{code:"40",name:"Usbekistan"},{code:"85",name:"Moldawien"},{code:"21",name:"Ägypten"},{code:"66",name:"Pakistan"},{code:"70",name:"Venezuela"},{code:"29",name:"Serbien"},{code:"60",name:"Bangladesch"},{code:"84",name:"Ungarn"},{code:"38",name:"Ghana"},{code:"26",name:"Haiti"},{code:"3",name:"China"},{code:"148",name:"Armenien"},{code:"41",name:"Kamerun"},{code:"109",name:"Dominikanische Republik"},{code:"94",name:"Guatemala"},{code:"143",name:"Tadschikistan"},{code:"64",name:"Sri Lanka"},{code:"5",name:"Myanmar"},{code:"47",name:"Irak"},{code:"51",name:"Belarus"},{code:"171",name:"Montenegro"},{code:"92",name:"Bolivien"},{code:"71",name:"Äthiopien"},{code:"199",name:"Malta"},{code:"183",name:"Nordmazedonien"},{code:"137",name:"Malawi"},{code:"105",name:"Ecuador"},{code:"182",name:"Japan"}],x=[{code:"GB",name:"Vereinigtes Königreich"},{code:"EE",name:"Estland"},{code:"LT",name:"Litauen"},{code:"LV",name:"Lettland"},{code:"ID",name:"Indonesien"},{code:"DE",name:"Deutschland"},{code:"ES",name:"Spanien"},{code:"CY",name:"Zypern"},{code:"PH",name:"Philippinen"},{code:"IT",name:"Italien"},{code:"HR",name:"Kroatien"},{code:"NL",name:"Niederlande"},{code:"MY",name:"Malaysia"},{code:"PL",name:"Polen"},{code:"AT",name:"Österreich"},{code:"FR",name:"Frankreich"},{code:"TH",name:"Thailand"},{code:"DK",name:"Dänemark"},{code:"RO",name:"Rumänien"},{code:"IE",name:"Irland"},{code:"CZ",name:"Tschechien"},{code:"GR",name:"Griechenland"},{code:"FI",name:"Finnland"},{code:"PT",name:"Portugal"},{code:"AR",name:"Argentinien"},{code:"ZA",name:"Südafrika"},{code:"RU",name:"Russland"},{code:"SE",name:"Schweden"},{code:"SI",name:"Slowenien"},{code:"HK",name:"Hongkong"},{code:"UA",name:"Ukraine"},{code:"KZ",name:"Kasachstan"},{code:"BR",name:"Brasilien"},{code:"AU",name:"Australien"},{code:"US",name:"Vereinigte Staaten"},{code:"GE",name:"Georgien"},{code:"NZ",name:"Neuseeland"},{code:"IL",name:"Israel"},{code:"BG",name:"Bulgarien"},{code:"SG",name:"Singapur"},{code:"KH",name:"Kambodscha"},{code:"MA",name:"Marokko"},{code:"BE",name:"Belgien"},{code:"SK",name:"Slowakei"},{code:"GI",name:"Gibraltar"},{code:"MX",name:"Mexiko"},{code:"CO",name:"Kolumbien"},{code:"KE",name:"Kenia"},{code:"PE",name:"Peru"},{code:"KG",name:"Kirgisistan"},{code:"PY",name:"Paraguay"},{code:"CL",name:"Chile"},{code:"LA",name:"Laos"},{code:"BA",name:"Bosnien und Herzegowina"},{code:"NG",name:"Nigeria"},{code:"NO",name:"Norwegen"},{code:"AE",name:"Vereinigte Arabische Emirate"},{code:"SN",name:"Senegal"},{code:"UZ",name:"Usbekistan"},{code:"MD",name:"Moldawien"},{code:"EG",name:"Ägypten"},{code:"PK",name:"Pakistan"},{code:"VE",name:"Venezuela"},{code:"RS",name:"Serbien"},{code:"BD",name:"Bangladesch"},{code:"HU",name:"Ungarn"},{code:"GH",name:"Ghana"},{code:"HT",name:"Haiti"},{code:"CN",name:"China"},{code:"AM",name:"Armenien"},{code:"CM",name:"Kamerun"},{code:"DO",name:"Dominikanische Republik"},{code:"GT",name:"Guatemala"},{code:"TJ",name:"Tadschikistan"},{code:"LK",name:"Sri Lanka"},{code:"MM",name:"Myanmar"},{code:"IQ",name:"Irak"},{code:"BY",name:"Belarus"},{code:"ME",name:"Montenegro"},{code:"BO",name:"Bolivien"},{code:"ET",name:"Äthiopien"},{code:"MT",name:"Malta"},{code:"MK",name:"Nordmazedonien"},{code:"MW",name:"Malawi"},{code:"EC",name:"Ecuador"},{code:"JP",name:"Japan"}],C=[{value:"1",label:"Bis SMS erhalten (≈5-30 min)"},{value:"4",label:"4 Stunden (Backup)"}],h=[{value:"4",label:"4 Stunden"},{value:"24",label:"1 Tag (24 Stunden)"},{value:"72",label:"3 Tage (72 Stunden)"},{value:"168",label:"7 Tage (168 Stunden)"},{value:"360",label:"15 Tage (360 Stunden)"},{value:"720",label:"30 Tage (720 Stunden)"}],T=N=>{o(N),m(N==="activation"?"43":"DE")},S=async()=>{if(!i||!u||!g){k({title:"Fehler",message:"Bitte füllen Sie alle Felder aus",type:"error"});return}try{await n({provider:"gogetsms",service:i,rentTime:g,country:u,mode:s}),c("go"),m(s==="activation"?"43":"DE"),y("4"),t()}catch(N){console.error("Error renting number:",N)}},w={primary:"#ee1d3c"};return r.jsx(nt,{isOpen:e,onClose:t,title:"GoGetSMS - Telefonnummer mieten",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Modus"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>T("activation"),className:`p-3 text-sm font-medium rounded-md border-2 transition-colors ${s==="activation"?"border-blue-500 bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-100":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300"}`,children:[r.jsx("div",{className:"font-semibold",children:"Aktivierung"}),r.jsx("div",{className:"text-xs opacity-75",children:"Eine SMS, günstiger"})]}),r.jsxs("button",{type:"button",onClick:()=>T("rental"),className:`p-3 text-sm font-medium rounded-md border-2 transition-colors ${s==="rental"?"border-blue-500 bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-100":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300"}`,children:[r.jsx("div",{className:"font-semibold",children:"Miete"}),r.jsx("div",{className:"text-xs opacity-75",children:"Mehrere SMS, teurer"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dienst"}),r.jsx(dr,{options:s==="activation"?v:f,value:i,onChange:c,placeholder:"Dienst auswählen...",disabled:a})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Land"}),r.jsx(dr,{options:s==="activation"?b:x,value:u,onChange:m,placeholder:"Land auswählen...",disabled:a})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mietdauer"}),r.jsx("select",{value:g,onChange:N=>y(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",disabled:a,children:(s==="activation"?C:h).map(N=>r.jsx("option",{value:N.value,children:N.label},N.value))})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(B,{variant:"outline",onClick:t,disabled:a,children:"Abbrechen"}),r.jsx(B,{onClick:S,disabled:a,style:{backgroundColor:w.primary,color:"white"},className:"hover:opacity-90 transition-opacity",children:a?"Wird gemietet...":"Nummer mieten"})]})]})})},mr=({options:e,value:t,onChange:n,placeholder:a,disabled:s=!1,className:o=""})=>{const[i,c]=p.useState(!1),[u,m]=p.useState(""),[g,y]=p.useState(e);p.useEffect(()=>{const b=e.filter(x=>x.name.toLowerCase().includes(u.toLowerCase())||x.code.toLowerCase().includes(u.toLowerCase()));y(b)},[u,e]);const k=e.find(b=>b.code===t),v=b=>{n(b),c(!1),m("")},f=b=>{b.stopPropagation(),n(""),m("")};return r.jsxs("div",{className:`relative ${o}`,children:[r.jsxs("div",{className:`
          w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md
          bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100
          cursor-pointer flex items-center justify-between
          ${s?"opacity-50 cursor-not-allowed":"hover:border-blue-500 dark:hover:border-blue-400"}
          ${i?"border-blue-500 dark:border-blue-400 ring-1 ring-blue-500 dark:ring-blue-400":""}
        `,onClick:()=>!s&&c(!i),children:[r.jsx("span",{className:k?"text-gray-900 dark:text-gray-100":"text-gray-500 dark:text-gray-400",children:k?k.name:a}),r.jsxs("div",{className:"flex items-center gap-1",children:[k&&!s&&r.jsx("button",{onClick:f,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:r.jsx(wt,{className:"h-3 w-3"})}),r.jsx(hr,{className:`h-4 w-4 transition-transform ${i?"rotate-180":""}`})]})]}),i&&!s&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-hidden",children:[r.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:r.jsxs("div",{className:"relative",children:[r.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Suchen...",value:u,onChange:b=>m(b.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400",autoFocus:!0})]})}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:g.length>0?g.map(b=>r.jsxs("div",{className:`
                    px-3 py-2 cursor-pointer text-sm
                    ${t===b.code?"bg-blue-50 dark:bg-blue-900 text-blue-900 dark:text-blue-100":"hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100"}
                  `,onClick:()=>v(b.code),children:[r.jsx("div",{className:"font-medium",children:b.name}),r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Code: ",b.code]})]},b.code)):r.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:"Keine Ergebnisse gefunden"})})]})]})},Xa=({isOpen:e,onClose:t,onRent:n,loading:a=!1})=>{const[s,o]=p.useState("rental"),[i,c]=p.useState("full_germany"),[u,m]=p.useState("98"),[g,y]=p.useState("168"),[k,v]=p.useState([]),[f,b]=p.useState([]),[x,C]=p.useState(!1),{showToast:h}=_e(),T=[{code:"wa",name:"WhatsApp"},{code:"tg",name:"Telegram"},{code:"go",name:"Google/Gmail/YouTube"},{code:"fb",name:"Facebook"},{code:"ig",name:"Instagram"},{code:"tw",name:"Twitter"},{code:"ds",name:"Discord"},{code:"am",name:"Amazon"},{code:"ap",name:"Apple"},{code:"ms",name:"Microsoft"},{code:"vi",name:"Viber"},{code:"wb",name:"WeChat"},{code:"lf",name:"TikTok"},{code:"oi",name:"Tinder"},{code:"nt",name:"Netflix"},{code:"li",name:"LinkedIn"},{code:"sn",name:"Snapchat"},{code:"vk",name:"VK"},{code:"ot",name:"Andere Dienste"}],S=[{code:"full_germany",name:"Deutschland - Vollmiete (alle Dienste)"},{code:"full_czechrepublic",name:"Tschechische Republik - Vollmiete"},{code:"full_lithuania",name:"Litauen - Vollmiete"},{code:"full_netherlands",name:"Niederlande - Vollmiete"},{code:"full_poland",name:"Polen - Vollmiete"},{code:"full_portugal",name:"Portugal - Vollmiete"},{code:"full_southafrica",name:"Südafrika - Vollmiete"},{code:"full_sweden",name:"Schweden - Vollmiete"},{code:"full_unitedkingdom",name:"Vereinigtes Königreich - Vollmiete"},{code:"full_cyprus",name:"Zypern - Vollmiete"},{code:"full_kenya",name:"Kenia - Vollmiete"},{code:"full",name:"Beste Vollmiete (automatische Auswahl)"},...T.filter(I=>I.code!=="ot").map(I=>({code:I.code,name:I.name+" (Dienst-spezifische Miete)"})),{code:"ot",name:"Andere Dienste (Dienst-spezifische Miete)"}],w=[{code:"98",name:"Deutschland"},{code:"67",name:"Tschechische Republik"},{code:"165",name:"Litauen"},{code:"196",name:"Niederlande"},{code:"220",name:"Polen"},{code:"221",name:"Portugal"},{code:"252",name:"Südafrika"},{code:"261",name:"Schweden"},{code:"286",name:"Vereinigtes Königreich"},{code:"77",name:"Zypern"},{code:"8",name:"Kenia"}],N=[{value:"4",label:"4 Stunden - $3.00"},{value:"24",label:"1 Tag - $4.00"},{value:"168",label:"7 Tage - $10.85 (Empfohlen)"},{value:"720",label:"30 Tage - $30.00"},{value:"2160",label:"90 Tage - $60.00"},{value:"4320",label:"180 Tage - $100.00"},{value:"8760",label:"360 Tage - $150.00"}],_=[{value:"4",label:"4 Stunden"},{value:"24",label:"1 Tag"},{value:"72",label:"3 Tage"}];p.useEffect(()=>{(async()=>{var E,A;if(e){C(!0);try{console.log(`[ANOSIM MODAL] Fetching ${s} services...`);const O=await se.getServicesAndCountries("168","98","anosim",s),W=Object.entries(O.services||{}).map(([z,$])=>({code:z,name:$.name||z})),P=Object.entries(O.countries||{}).map(([z,$])=>({code:z,name:typeof $=="string"?$:$.name||z}));v(W),b(P),W.length>0&&(W.some($=>$.code===i)||c(s==="rental"?"full_germany":((E=W[0])==null?void 0:E.code)||"go")),P.length>0&&(P.some($=>$.code===u)||m(((A=P[0])==null?void 0:A.code)||"98")),console.log(`[ANOSIM MODAL] Loaded ${W.length} services and ${P.length} countries for ${s} mode`)}catch(O){console.error(`[ANOSIM MODAL] Error fetching ${s} services:`,O),h({title:"Fehler",message:`Fehler beim Laden der ${s==="activation"?"Aktivierungs":"Miet"}-Services`,type:"error"}),v(s==="activation"?T:S),b(w)}finally{C(!1)}}})()},[s,e]);const F=async()=>{if(!i||!u||!g){h({title:"Fehler",message:"Bitte füllen Sie alle Felder aus",type:"error"});return}try{await n({provider:"anosim",service:i,rentTime:g,country:u,mode:s}),c(s==="rental"?"full_germany":"go"),m("98"),y(s==="rental"?"168":"4"),t()}catch(I){console.error("Error renting number:",I)}};return r.jsx(nt,{isOpen:e,onClose:t,title:"Anosim - Premium deutsche Nummern",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Modus"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{type:"button",onClick:()=>o("activation"),className:`p-3 text-left border-2 rounded-lg transition-colors ${s==="activation"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:border-blue-300 dark:hover:border-blue-500"}`,children:[r.jsx("div",{className:"font-semibold",children:"Aktivierung"}),r.jsx("div",{className:"text-xs opacity-75",children:"Eine SMS, günstiger"})]}),r.jsxs("button",{type:"button",onClick:()=>o("rental"),className:`p-3 text-left border-2 rounded-lg transition-colors ${s==="rental"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:border-blue-300 dark:hover:border-blue-500"}`,children:[r.jsx("div",{className:"font-semibold",children:"Miete"}),r.jsx("div",{className:"text-xs opacity-75",children:"Mehrere SMS, längere Laufzeit"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Dienst ",x&&r.jsx("span",{className:"text-xs text-gray-500",children:"(Lädt...)"})]}),r.jsx(mr,{options:k.length>0?k:s==="activation"?T:S,value:i,onChange:c,placeholder:x?"Services werden geladen...":"Dienst auswählen...",disabled:a||x})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Land ",x&&r.jsx("span",{className:"text-xs text-gray-500",children:"(Lädt...)"})]}),r.jsx(mr,{options:f.length>0?f:w,value:u,onChange:m,placeholder:x?"Länder werden geladen...":"Land auswählen...",disabled:a||x})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:s==="activation"?"Gültigkeitsdauer":"Mietdauer"}),r.jsx("select",{value:g,onChange:I=>y(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400",disabled:a,children:(s==="activation"?_:N).map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))}),r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:s==="activation"?"Aktivierungen sind ideal für einmalige Verifizierungen":"Vollmieten funktionieren mit allen Diensten und bieten das beste Preis-Leistungs-Verhältnis"})]}),r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:[r.jsxs("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:[s==="activation"?"Aktivierung":"Premium-Miete"," Vorteile:"]}),r.jsx("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:s==="activation"?r.jsxs(r.Fragment,{children:[r.jsx("li",{children:"✅ Günstig für einmalige Verifizierungen"}),r.jsx("li",{children:"✅ Schnelle SMS-Zustellung"}),r.jsx("li",{children:"✅ Ideal für Account-Erstellung"}),r.jsx("li",{children:"✅ Europaweite Abdeckung"})]}):r.jsxs(r.Fragment,{children:[r.jsx("li",{children:"✅ Premium deutsche Mobilnummern"}),r.jsx("li",{children:"✅ Alle SMS-Dienste unterstützt"}),r.jsx("li",{children:"✅ Hohe Zustellrate"}),r.jsx("li",{children:"✅ Auto-Verlängerungsoptionen"}),r.jsx("li",{children:"✅ 24/7 Nummernverfügbarkeit"})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(B,{variant:"outline",onClick:t,disabled:a,children:"Abbrechen"}),r.jsx(B,{onClick:F,disabled:a,className:"hover:opacity-90 transition-opacity",children:a?"Wird gemietet...":s==="activation"?"Aktivierung starten":"Nummer mieten"})]})]})})},Ya=({isOpen:e,onClose:t,onRent:n,loading:a})=>{const[s,o]=p.useState(""),[i,c]=p.useState("4"),[u,m]=p.useState("DE"),[g,y]=p.useState([]),[k,v]=p.useState([]),[f,b]=p.useState(!1),{showToast:x}=_e(),{colors:C}=St();p.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{b(!0),console.log("Fetching SMSPVA services and countries...");const w=await se.getServicesAndCountries("4","all_countries","smspva","rental");let N=[];Array.isArray(w.services)?N=w.services.map(F=>({code:F.service||F.code,name:F.name||F.service||F.code,cost:F.cost?`~$${F.cost}`:void 0})):typeof w.services=="object"&&(N=Object.entries(w.services).map(([F,I])=>({code:F,name:I.name||F,cost:I.cost?`~$${I.cost}`:void 0})));let _=[];Array.isArray(w.countries)?_=w.countries.map(F=>({code:F.code||F.id,name:F.name||F.code||F.id})):typeof w.countries=="object"&&(_=Object.entries(w.countries).map(([F,I])=>({code:F,name:typeof I=="string"?I:F}))),console.log(`Loaded ${N.length} services and ${_.length} countries for SMSPVA`),y(N),v(_),N.length>0&&!s&&o(N[0].code),_.length>0&&!u&&m(_[0].code)}catch(w){console.error("Error fetching SMSPVA data:",w),x({type:"error",title:"Fehler",message:"Konnte Services und Länder nicht laden"});const N=[{code:"opt1",name:"WhatsApp",cost:"~$0.40"},{code:"opt2",name:"Telegram",cost:"~$0.25"},{code:"opt3",name:"Google/Gmail",cost:"~$0.55"},{code:"opt4",name:"Facebook",cost:"~$0.75"},{code:"opt5",name:"Instagram",cost:"~$0.85"},{code:"opt6",name:"Twitter/X",cost:"~$1.10"},{code:"opt7",name:"Discord",cost:"~$0.65"}],_=[{code:"DE",name:"Deutschland 🇩🇪"},{code:"US",name:"United States 🇺🇸"},{code:"UK",name:"United Kingdom 🇬🇧"},{code:"FR",name:"France 🇫🇷"},{code:"IT",name:"Italy 🇮🇹"},{code:"RU",name:"Russland 🇷🇺"},{code:"UA",name:"Ukraine 🇺🇦"},{code:"KZ",name:"Kasachstan 🇰🇿"},{code:"PL",name:"Polen 🇵🇱"},{code:"LT",name:"Litauen 🇱🇹"}];y(N),v(_)}finally{b(!1)}},T=[{value:"4",label:"4 Stunden"},{value:"24",label:"1 Tag (24 Stunden)"},{value:"72",label:"3 Tage (72 Stunden)"},{value:"168",label:"7 Tage (168 Stunden)"}],S=async()=>{if(!s){x({type:"error",title:"Fehler",message:"Bitte wählen Sie einen Service"});return}try{await n({provider:"smspva",service:s,rentTime:i,country:u}),t()}catch(w){x({type:"error",title:"Fehler bei der Miete",message:w.message||"SMSPVA Nummer konnte nicht gemietet werden"})}};return r.jsx(nt,{isOpen:e,onClose:t,title:"🇷🇺 SMSPVA - Osteuropa-Spezialist",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-md",children:r.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:[r.jsx("strong",{children:"SMSPVA"})," - Zuverlässiger Service für osteuropäische Telefonnummern"]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:s,onChange:w=>o(w.target.value),disabled:a||f,children:[r.jsx("option",{value:"",children:f?"Lade Services...":"Service auswählen..."}),g.map(w=>r.jsxs("option",{value:w.code,children:[w.name," ",w.cost&&`- ${w.cost}`]},w.code))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Land"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:u,onChange:w=>m(w.target.value),disabled:a||f,children:[f&&k.length===0&&r.jsx("option",{value:"",children:"Lade Länder..."}),k.map(w=>r.jsx("option",{value:w.code,children:w.name},w.code))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mietdauer"}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:i,onChange:w=>c(w.target.value),disabled:a,children:T.map(w=>r.jsx("option",{value:w.value,children:w.label},w.value))})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(B,{onClick:t,variant:"secondary",disabled:a||f,children:"Abbrechen"}),r.jsx(B,{onClick:S,disabled:!s||a||f,style:{backgroundColor:C.primary,color:"white"},className:"hover:opacity-90 transition-opacity",children:f?"Lade Daten...":a?"Wird gemietet...":"Nummer mieten"})]})]})})},Ge=({size:e="md"})=>{const t={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("div",{className:`${t[e]} text-indigo-600 animate-spin`,children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"opacity-25",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})},ur=({options:e,value:t,onChange:n,placeholder:a="Auswählen...",emptyMessage:s="Keine Ergebnisse gefunden",label:o})=>{const[i,c]=p.useState(!1),[u,m]=p.useState(""),g=p.useRef(null);p.useEffect(()=>{const v=f=>{g.current&&!g.current.contains(f.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const y=e.filter(v=>v.label.toLowerCase().includes(u.toLowerCase())),k=e.find(v=>v.value===t);return r.jsxs("div",{className:"relative",ref:g,children:[o&&r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o}),r.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 cursor-pointer flex justify-between items-center",onClick:()=>c(!i),children:[r.jsx("span",{className:k?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400",children:k?k.label:a}),r.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),i&&r.jsxs("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-gray-800 shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto max-h-60",children:[r.jsx("div",{className:"px-3 py-2 border-b border-gray-200 dark:border-gray-700",children:r.jsx("input",{type:"text",className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Suchen...",value:u,onChange:v=>m(v.target.value),onClick:v=>v.stopPropagation()})}),y.length===0?r.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400",children:s}):r.jsx("ul",{className:"max-h-40 overflow-y-auto",children:y.map(v=>r.jsx("li",{className:`px-3 py-2 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 ${v.value===t?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-300":"text-gray-900 dark:text-gray-200"}`,onClick:()=>{n(v.value),c(!1),m("")},children:v.label},v.value))})]})]})},Ve=({isOpen:e,onClose:t,title:n,children:a,size:s="md"})=>{const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t}),r.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle",children:"​"}),r.jsx("div",{className:`inline-block transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 text-left align-bottom shadow-xl transition-all sm:my-8 sm:align-middle ${o[s]} w-full`,children:r.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 dark:text-white",children:n}),r.jsxs("button",{onClick:t,className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[r.jsx("span",{className:"sr-only",children:"Close"}),r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),r.jsx("div",{children:a})]})})]})}):null};function ks(){var Pt,_t,Ft,Lt,Dt,zt,It,$t;const[e,t]=p.useState(""),[n,a]=p.useState(!1),[s,o]=p.useState(!1),[i,c]=p.useState(!1),[u,m]=p.useState(!1),[g,y]=p.useState(!1),[k,v]=p.useState(!1),[f,b]=p.useState(!1),[x,C]=p.useState(!1),[h,T]=p.useState(null),[S,w]=p.useState("sms_activate"),[N,_]=p.useState(""),[F,I]=p.useState("all_countries"),[E,A]=p.useState("4"),[O,W]=p.useState("rental"),[P,z]=p.useState({}),[$,oe]=p.useState(""),[q,Z]=p.useState(null),[be,Ie]=p.useState(!1),{showToast:D}=_e(),{colors:at}=St(),{providers:ie,loading:je,error:Br}=Ha();p.useEffect(()=>{S==="anosim"&&(N==="full_germany"||N==="full")&&(["24","168","720","2160","4320","8760"].includes(E)||A("168"))},[S,N]);const{phoneNumbers:Ur,services:st,countries:ot,loading:G,error:it,serverStatus:Y,fetchPhoneNumbers:Ne,fetchServicesAndCountries:Et,cancelPhoneNumberRental:qr,extendPhoneNumberRental:Gr,assignPhoneNumber:Vr,checkServerConnectivity:At}=Va(),{employees:Ct}=un();p.useEffect(()=>{At()},[At]);const Kr=async l=>{if(G){console.log("Already loading, ignoring provider change");return}if(l!==S){const j=l==="smspva"?"SMSPVA":l==="anosim"?"Anosim":"SMS-Activate";console.log(`Provider changed to: ${j}...`),Z({type:"info",message:`Lade Dienste für ${j}...`});try{w(l),_(""),await Et(!0,E,F,l),Z({type:"success",message:`Dienste für ${j} erfolgreich geladen`}),setTimeout(()=>Z(null),2e3)}catch(L){console.error("Error refreshing services for new provider:",L),Z({type:"error",message:"Fehler beim Laden der Dienste für den neuen Anbieter"})}}else w(l),_("")},Tt=Ur.filter(l=>{const j=e.toLowerCase();return l.phone_number.toLowerCase().includes(j)||l.service.toLowerCase().includes(j)||l.country.toLowerCase().includes(j)}),Mt=async()=>{console.log("Refresh button clicked - starting refresh...");try{D({type:"info",title:"Refreshing",message:"Updating phone numbers list..."});const l=await Ne(!0);console.log("Refresh completed, fetched:",l==null?void 0:l.length,"phone numbers"),D({type:"success",title:"Refreshed",message:`Updated phone numbers list (${(l==null?void 0:l.length)||0} numbers)`})}catch(l){console.error("Error during refresh:",l),D({type:"error",title:"Refresh Failed",message:"Failed to update phone numbers list"})}},Hr=async l=>{Ie(!0);try{await se.addManualPhoneNumber(l),D({type:"success",title:"Success",message:"Manual phone number added successfully!"}),Ne(!0)}catch(j){throw console.error("Error adding manual phone number:",j),D({type:"error",title:"Error",message:j.message||"Failed to add manual phone number"}),j}finally{Ie(!1)}},Rt=async l=>{try{const{messageSyncService:j}=await mn(async()=>{const{messageSyncService:M}=await import("./messageSyncService-DQNQgSNl.js");return{messageSyncService:M}},__vite__mapDeps([0,1,2,3]));D({type:"info",title:"Syncing Messages",message:`Refreshing messages for ${l.phone_number}...`});const L=await j.syncPhoneNumberById(l.id);L.success?(D({type:"success",title:"Messages Synced",message:`Found ${L.newMessagesCount} new messages for ${l.phone_number}`}),Ne(!0)):D({type:"error",title:"Sync Failed",message:L.error||"Failed to sync messages"})}catch(j){console.error("Error refreshing messages:",j),D({type:"error",title:"Error",message:j.message||"Failed to refresh messages"})}},Wr=async l=>{if(confirm(`Are you sure you want to remove ${l.phone_number}? This action cannot be undone.`))try{await se.removeManualPhoneNumber(l.id),D({type:"success",title:"Phone Number Removed",message:`${l.phone_number} has been removed successfully`}),Ne(!0)}catch(j){console.error("Error removing manual phone number:",j),D({type:"error",title:"Error",message:j.message||"Failed to remove phone number"})}},Jr=async()=>{if(!N){Z({type:"error",message:"Please select a service"});return}try{Z({type:"info",message:`Renting number for ${dt(N)}...`});const l={service:N,rentTime:E,country:F,provider:S,...S==="gogetsms"&&{mode:O}};console.log("Renting phone number with params:",l);const j=await se.rentNumber(N,E,F,S,S==="gogetsms"?O:void 0);console.log("Rental API response:",j);const L=S==="gogetsms"&&O==="activation"?"(Aktivierung)":"(Vermietung)";Z({type:"success",message:`Successfully rented number: ${j.phone_number} ${L}`}),setTimeout(()=>{a(!1),_(""),Z(null)},2e3)}catch(l){console.error("Error in handleRentNumber:",l);const j=l.message||"Unknown error occurred";Z({type:"error",message:j}),console.error("Detailed rental error:",l)}},$e=async l=>{try{console.log("Provider rental params:",l);const j=await se.rentNumber(l.service,l.rentTime,l.country,l.provider,l.mode);console.log("Provider rental response:",j);const L=l.provider==="gogetsms"&&l.mode==="activation"?" (Activation)":" (Rental)";D({type:"success",title:"Success",message:`Successfully rented ${l.provider} number: ${j.phone_number}${L}`}),Ne()}catch(j){throw console.error("Provider rental error:",j),j}},Zr=async l=>{if(window.confirm(`Sind Sie sicher, dass Sie die Miete für ${l.phone_number} kündigen möchten?`))try{await qr(l.rent_id)}catch(j){console.error("Error canceling rental:",j)}},Xr=async l=>{[{value:"4",label:"4 Stunden"},{value:"12",label:"12 Stunden"},{value:"24",label:"1 Tag (24 Stunden)"},{value:"48",label:"2 Tage (48 Stunden)"},{value:"72",label:"3 Tage (72 Stunden)"},{value:"96",label:"4 Tage (96 Stunden)"},{value:"120",label:"5 Tage (120 Stunden)"},{value:"144",label:"6 Tage (144 Stunden)"},{value:"168",label:"7 Tage (168 Stunden)"}].map(M=>`<option value="${M.value}">${M.label}</option>`).join("");const L=window.prompt(`Wählen Sie die Verlängerungszeit für ${l.phone_number}:

4 Stunden (4)
12 Stunden (12)
1 Tag (24)
2 Tage (48)
3 Tage (72)
4 Tage (96)
5 Tage (120)
6 Tage (144)
7 Tage (168)`,"4");if(L)try{await Gr(l.rent_id,L)}catch(M){console.error("Error extending rental:",M)}},{messages:Ot,loading:ct,fetchMessages:Be}=Ka(h==null?void 0:h.id),ge=p.useRef(null);p.useEffect(()=>{if(!h||u)return;ge.current&&(V.removeChannel(ge.current),ge.current=null);const l=h.id;console.log(`Setting up notification subscription for phone number: ${l}`);const j=V.channel(`phone_notifications:${l}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"phone_messages",filter:`phone_number_id=eq.${l}`},L=>{console.log("Received message notification:",L),z(M=>({...M,[l]:(M[l]||0)+1}))}).subscribe(L=>{console.log(`Notification subscription status: ${L}`)});return ge.current=j,()=>{ge.current&&(console.log(`Removing notification subscription for phone number: ${l}`),V.removeChannel(ge.current),ge.current=null)}},[h,u]),p.useEffect(()=>{h&&u&&(z(l=>({...l,[h.id]:0})),Be(!0))},[u,h,Be]);const Yr=async l=>{console.log("🚀 Direct SMS fetch triggered for:",{provider:l.provider,phone_number:l.phone_number,external_url:l.external_url,access_key:l.access_key});try{l.provider==="smspva"?(console.log("📱 Using SMSPVA API method - now handled by usePhoneMessages hook"),D({type:"info",title:"Info",message:"SMSPVA messages are now fetched automatically when opening the messages modal"})):l.provider==="anosim"?(console.log("🔄 Using Anosim API method"),await Qr(l)):l.provider==="receive_sms_online"?(console.log("🌐 Using receive-sms-online HTML scraping method"),await en(l)):(console.log("❌ Unsupported provider:",l.provider),D({type:"error",title:"Fehler",message:`Provider ${l.provider} wird für direkte SMS-Abfrage nicht unterstützt`}))}catch(j){console.error("❌ Error fetching SMS:",j),D({type:"error",title:"Fehler",message:"Fehler beim Abrufen der SMS-Nachrichten"})}},Qr=async l=>{const j=l.order_booking_id||l.external_url||l.rent_id;if(!j){D({type:"error",title:"Fehler",message:"Keine Booking-ID für Anosim verfügbar"});return}try{console.log("[ANOSIM-FETCH] Fetching messages for booking ID:",j);const L=await fetch(`/api/phone/sync/anosim/${j}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!L.ok)throw new Error(`Anosim sync API error: ${L.status}`);const M=await L.json();if(console.log("[ANOSIM-FETCH] Sync response:",M),M.status==="success")await Be(!0),M.data&&M.data.newMessages>0?D({type:"success",title:"Erfolg",message:`${M.data.newMessages} neue Nachrichten von Anosim synchronisiert`}):D({type:"info",title:"Keine neuen Nachrichten",message:"Alle Anosim-Nachrichten sind bereits synchronisiert"});else throw new Error(M.message||"Sync failed")}catch(L){console.error("[ANOSIM-FETCH] Error fetching Anosim messages:",L),D({type:"error",title:"Fehler",message:"Fehler beim Synchronisieren der Anosim-Nachrichten"})}},en=async l=>{if(console.log("🌐 Starting receive-sms-online fetch for:",l.phone_number),!l.external_url){console.log("❌ No external_url found for phone number"),D({type:"error",title:"Fehler",message:"Keine URL für diese Nummer verfügbar"});return}try{console.log("🔗 Fetching messages from URL:",l.external_url);const j=["https://corsproxy.io/?","https://cors-anywhere.herokuapp.com/","https://api.allorigins.win/raw?url="];let L=!1,M="";for(const U of j)try{console.log("Trying proxy:",U);const ae=await fetch(U+encodeURIComponent(l.external_url));if(!ae.ok){console.log("Proxy failed:",U,"Status:",ae.status);continue}M=await ae.text(),L=!0,console.log("Successfully fetched HTML with proxy:",U);break}catch(ae){console.log("Error with proxy:",U,"Error:",ae)}if(!L||!M)throw new Error("All CORS proxies failed to fetch the page");const H=new DOMParser().parseFromString(M,"text/html"),J=Array.from(H.querySelectorAll("table tbody tr")).filter(U=>{var Bt,Ut,qt,Gt,Vt,Kt;const ae=(Ut=(Bt=U.querySelector('td[data-label="From   :"]'))==null?void 0:Bt.textContent)==null?void 0:Ut.trim(),Ee=(Gt=(qt=U.querySelector('td[data-label="Message   :"]'))==null?void 0:qt.textContent)==null?void 0:Gt.trim(),xe=(Kt=(Vt=U.querySelector('td[data-label="Added   :"]'))==null?void 0:Vt.textContent)==null?void 0:Kt.trim();return ae&&Ee&&xe});if(!J||J.length===0){console.log("No messages found in HTML"),D({type:"info",title:"Keine Nachrichten",message:"Keine SMS-Nachrichten für diese Nummer gefunden"});return}const ee=J.map(U=>{const ae=U.querySelector('td[data-label="From   :"]').textContent.trim(),Ee=U.querySelector('td[data-label="Message   :"]').textContent.trim(),xe=U.querySelector('td[data-label="Added   :"]').textContent.trim();return{from:ae,message:Ee,added:xe}});console.log("✅ Total parsed messages:",ee.length,ee),console.log("💾 Starting to store",ee.length,"messages in database...");for(const U of ee)try{console.log("💾 Storing message:",{sender:U.from,message:U.message});const{data:ae}=await V.from("phone_messages").select("id").eq("phone_number_id",l.id).eq("sender",U.from).eq("message",U.message).maybeSingle();if(ae){console.log("✅ Message already exists, skipping:",{sender:U.from,message:U.message});continue}const{data:Ee,error:xe}=await V.from("phone_messages").insert({phone_number_id:l.id,sender:U.from,message:U.message,received_at:new Date().toISOString(),message_source:"scraping"}).select();xe?console.error("❌ Error storing message:",xe):console.log("✅ Successfully stored message:",Ee)}catch(ae){console.error("❌ Database error:",ae)}console.log("💾 Finished storing messages in database"),console.log("🔄 Force refreshing messages display..."),await Be(!0),D({type:"success",title:"SMS abgerufen",message:`${ee.length} Nachrichten erfolgreich abgerufen und in Datenbank gespeichert`})}catch(j){console.error("Error in receive-sms-online fetch:",j),D({type:"error",title:"Fehler",message:`Fehler beim Abrufen der SMS: ${j instanceof Error?j.message:"Unbekannter Fehler"}`})}},tn=l=>{console.log("🔍 Opening messages modal for phone number:",{id:l.id,phone_number:l.phone_number,provider:l.provider,external_url:l.external_url,access_key:l.access_key}),T(l),m(!0)},rn=async()=>{if(!h||!$){alert("Bitte wählen Sie einen Mitarbeiter aus");return}try{await Vr(h.id,$),c(!1),oe("")}catch(l){console.error("Error assigning phone number:",l)}},nn=l=>{T(l),c(!0)},an=async()=>{Z({type:"info",message:"Lade Dienste und Länder..."});try{const l=await Et(!0,E,F,S);!l||!l.services||Object.keys(l.services).length===0?Z({type:"error",message:"Fehler beim Laden der Dienste. Bitte überprüfen Sie Ihre Verbindung."}):Z({type:"success",message:`${Object.keys(l.services).length} Dienste und ${Object.keys(l.countries||{}).length} Länder erfolgreich geladen.`})}catch(l){console.error("Error refreshing services data:",l),Z({type:"error",message:"Fehler beim Laden der Dienste. Bitte überprüfen Sie Ihre Verbindung."})}};return r.jsxs("div",{className:"w-full px-4 py-6",children:[r.jsx(Ue.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Oe,{size:24,className:"text-gray-900 dark:text-white mr-4"}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-app font-app-bold text-gray-900 dark:text-white flex items-center",children:["Telefonnummern",G&&r.jsx("span",{className:"ml-3 inline-block",children:r.jsx(Ge,{size:"sm"})})]}),r.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400 font-app",children:"Verwalten Sie Ihre gemieteten Telefonnummern für SMS-Dienste"})]})]}),r.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-3",children:[r.jsx(B,{variant:"outline",size:"sm",onClick:Mt,disabled:G,leftIcon:r.jsx(Ae,{size:16}),children:"Aktualisieren"}),!je&&((_t=(Pt=ie==null?void 0:ie.providers)==null?void 0:Pt.sms_activate)==null?void 0:_t.available)&&r.jsx(B,{size:"sm",onClick:()=>y(!0),disabled:Y==="unavailable",leftIcon:r.jsx(lt,{size:16}),style:{backgroundColor:"#2563eb",color:"white"},className:"hover:opacity-90 transition-opacity",children:"📱 SMS-Activate"}),!je&&((Lt=(Ft=ie==null?void 0:ie.providers)==null?void 0:Ft.gogetsms)==null?void 0:Lt.available)&&r.jsx(B,{size:"sm",onClick:()=>v(!0),disabled:Y==="unavailable",leftIcon:r.jsx(ht,{size:16}),style:{backgroundColor:"#059669",color:"white"},className:"hover:opacity-90 transition-opacity",children:"🌍 GoGetSMS"}),!je&&((zt=(Dt=ie==null?void 0:ie.providers)==null?void 0:Dt.anosim)==null?void 0:zt.available)&&r.jsx(B,{size:"sm",onClick:()=>b(!0),disabled:Y==="unavailable",leftIcon:r.jsx(lt,{size:16}),style:{backgroundColor:"#d97706",color:"white"},className:"hover:opacity-90 transition-opacity",children:"🇩🇪 Anosim"}),!je&&(($t=(It=ie==null?void 0:ie.providers)==null?void 0:It.smspva)==null?void 0:$t.available)&&r.jsx(B,{size:"sm",onClick:()=>C(!0),disabled:Y==="unavailable",leftIcon:r.jsx(lt,{size:16}),style:{backgroundColor:"#7c3aed",color:"white"},className:"hover:opacity-90 transition-opacity",children:"🇷🇺 SMSPVA"}),je&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[r.jsx(Ge,{size:"sm"}),r.jsx("span",{children:"Loading providers..."})]}),Br&&r.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:"⚠️ Provider check failed - showing all options"}),r.jsx(B,{variant:"outline",size:"sm",onClick:()=>o(!0),disabled:G,leftIcon:r.jsx(gr,{size:16}),children:"Manual URL"})]})]})}),Y==="unavailable"&&r.jsx("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-4",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"SMS API Server nicht verfügbar"}),r.jsx("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-200",children:r.jsx("p",{children:"Der SMS API Server ist derzeit nicht erreichbar. Sie können bestehende Telefonnummern verwalten, aber keine neuen Nummern mieten oder Dienste aktualisieren."})})]})]})}),G?r.jsx("div",{className:"flex justify-center py-10",children:r.jsx(Ge,{size:"lg"})}):it?r.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-red-500 dark:text-red-400 mb-4",children:it instanceof Error?it.message:"Ein Fehler ist aufgetreten"}),r.jsx(B,{onClick:Mt,leftIcon:r.jsx(Ae,{}),style:{backgroundColor:at.primary,color:"white"},className:"hover:opacity-90 transition-opacity",children:"Erneut versuchen"})]}):r.jsx(Ue.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:r.jsx("div",{className:"p-4",children:Tt.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:r.jsx(Oe,{size:24,className:"text-gray-400 dark:text-gray-500"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Keine Telefonnummern gefunden"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Mieten Sie eine neue Telefonnummer, um SMS-Dienste zu nutzen."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Tt.map(l=>r.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-md transition-all duration-200",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center",children:[l.provider==="receive_sms_online"?r.jsx(ht,{size:18,className:"text-blue-500 dark:text-blue-400 mr-2"}):l.provider==="smspva"?r.jsx(Oe,{size:18,className:"text-green-500 dark:text-green-400 mr-2"}):r.jsx(Oe,{size:18,className:"text-gray-500 dark:text-gray-400 mr-2"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:l.phone_number})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${l.provider==="receive_sms_online"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":l.provider==="smspva"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":l.provider==="anosim"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":l.provider==="gogetsms"?"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:l.provider==="receive_sms_online"?"Manual":l.provider==="smspva"?"SMSPVA":l.provider==="anosim"?"Anosim":l.provider==="gogetsms"?"GoGetSMS":"SMS-Activate"}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${l.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:l.status==="active"?"Aktiv":"Inaktiv"})]})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:dt(l.service)}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded p-2",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Land"}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Jt(l.country)})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded p-2",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Läuft ab"}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:gn(new Date(l.end_date),{addSuffix:!0})})]}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded p-2 col-span-2",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Zugewiesen an"}),r.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l.assignee_id?(()=>{const j=Ct.find(L=>L.id===l.assignee_id);return j?`${j.first_name} ${j.last_name}`:"Unbekannt"})():r.jsx("span",{className:"text-gray-400 dark:text-gray-500 italic",children:"Nicht zugewiesen"})})]})]})]}),r.jsxs("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700/30 border-t border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[r.jsxs("button",{onClick:()=>tn(l),className:"flex items-center text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400 text-sm",title:"Nachrichten anzeigen",children:[r.jsx(cn,{size:16,className:"mr-1"}),r.jsx("span",{children:"Nachrichten"}),P[l.id]>0&&r.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:P[l.id]})]}),r.jsxs("div",{className:"flex space-x-3",children:[!l.assignee_id&&r.jsx("button",{onClick:()=>nn(l),className:"text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 flex items-center p-1.5",title:"Mitarbeiter zuweisen",children:r.jsx(ln,{size:20})}),l.provider==="receive_sms_online"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>Rt(l),className:"text-gray-500 hover:text-green-600 dark:text-gray-400 dark:hover:text-green-400 flex items-center p-1.5",title:"Nachrichten aktualisieren",children:r.jsx(Ae,{size:20})}),r.jsx("button",{onClick:()=>Wr(l),className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 flex items-center p-1.5",title:"Telefonnummer entfernen",children:r.jsx(Wt,{size:20})})]}):r.jsxs(r.Fragment,{children:[l.status==="active"&&r.jsx("button",{onClick:()=>Xr(l),className:"text-gray-500 hover:text-green-600 dark:text-gray-400 dark:hover:text-green-400 flex items-center p-1.5",title:"Miete verlängern",children:r.jsx(dn,{size:20})}),r.jsx("button",{onClick:()=>Zr(l),className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 flex items-center p-1.5",title:"Miete kündigen",children:r.jsx(Wt,{size:20})})]})]})]})]},l.id))})})}),r.jsx(Ve,{isOpen:n,onClose:()=>a(!1),title:"Neue Telefonnummer mieten",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`py-2 px-3 rounded-md flex items-center text-sm ${Y==="available"?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":Y==="unavailable"?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":"bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${Y==="available"?"bg-green-500":Y==="unavailable"?"bg-red-500":"bg-gray-500"}`}),r.jsx("span",{children:Y==="available"?"SMS API Server verfügbar":Y==="unavailable"?"SMS API Server nicht verfügbar":"Serverstatus wird geprüft..."})]}),Y==="unavailable"&&r.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:r.jsxs("div",{className:"flex",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Es ist derzeit nicht möglich, neue Nummern zu mieten, da der SMS API Server nicht erreichbar ist."})})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{onClick:an,disabled:G||Y==="unavailable",className:`inline-flex items-center px-2 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-500 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue active:bg-blue-700 transition ease-in-out duration-150 ${G||Y==="unavailable"?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx(Ae,{className:`mr-1 ${G?"animate-spin":""}`,size:14}),"Dienste aktualisieren"]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Anbieter"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:S,disabled:G,onChange:l=>{Kr(l.target.value)},children:[r.jsx("option",{value:"sms_activate",children:"SMS-Activate"}),r.jsx("option",{value:"smspva",children:"SMSPVA"}),r.jsx("option",{value:"anosim",children:"Anosim"}),r.jsx("option",{value:"gogetsms",children:"GoGetSMS"})]})]}),S==="gogetsms"&&r.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"🔄 GoGetSMS Modus"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{type:"button",onClick:()=>W("activation"),className:`px-3 py-2 text-sm rounded-md transition-colors ${O==="activation"?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:["📱 Aktivierung",r.jsx("div",{className:"text-xs opacity-80",children:"Einmalige SMS"})]}),r.jsxs("button",{type:"button",onClick:()=>W("rental"),className:`px-3 py-2 text-sm rounded-md transition-colors ${O==="rental"?"bg-blue-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:["🏢 Vermietung",r.jsx("div",{className:"text-xs opacity-80",children:"Mehrere SMS"})]})]}),r.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:O==="activation"?"💡 Optimal für: WhatsApp, Telegram, soziale Medien (günstig, schnell)":"💡 Optimal für: Geschäftsanwendungen, längere Nutzung (teurer, flexibel)"})]}),r.jsxs("div",{children:[r.jsx(ur,{label:"Dienst",value:N,onChange:l=>_(l),placeholder:G?"Dienste werden geladen...":"Dienst auswählen",emptyMessage:G?"Dienste werden geladen...":"Keine Dienste gefunden",options:Object.entries(st).length>0?Object.entries(st).map(([l,j])=>{const L=j.name||dt(l),M=typeof j.cost=="number"?j.cost.toFixed(3):j.cost,H=S==="anosim"&&(l==="full_germany"||l==="full"&&L.includes("Germany"))?"🇩🇪 ":"";return{value:l,label:`${H}${L} ($${M})`}}):[]}),Object.keys(st).length===0&&!G&&r.jsx("p",{className:"mt-2 text-sm text-red-500",children:"Keine Dienste verfügbar. Bitte versuchen Sie, die Seite zu aktualisieren."})]}),r.jsxs("div",{children:[r.jsx(ur,{label:"Land",value:F,onChange:l=>I(l),placeholder:G?"Länder werden geladen...":"Land auswählen",emptyMessage:G?"Länder werden geladen...":"Keine Länder gefunden",options:[{value:"all_countries",label:"Alle Länder"},...Object.entries(ot).length>0?Object.entries(ot).map(([l,j])=>({value:l,label:typeof j=="string"?j:Jt(l)})):[]]}),Object.keys(ot).length===0&&!G&&r.jsx("p",{className:"mt-2 text-sm text-red-500",children:"Keine Länder verfügbar. Bitte versuchen Sie, die Seite zu aktualisieren."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:S==="anosim"&&(N==="full_germany"||N==="full")?"Mietdauer (Deutsche Vollvermietung)":S==="gogetsms"&&O==="activation"?"Aktivierungsdauer":"Mietdauer (Stunden)"}),r.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:E,onChange:l=>A(l.target.value),children:S==="anosim"&&(N==="full_germany"||N==="full")?r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"24",children:"1 Tag - $4.00"}),r.jsx("option",{value:"168",children:"7 Tage - $10.85"}),r.jsx("option",{value:"720",children:"30 Tage - $30.00"}),r.jsx("option",{value:"2160",children:"90 Tage - $60.00"}),r.jsx("option",{value:"4320",children:"180 Tage - $100.00"}),r.jsx("option",{value:"8760",children:"360 Tage - $150.00"})]}):S==="gogetsms"&&O==="activation"?r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"1",children:"Bis SMS empfangen (≈5-30 Min)"}),r.jsx("option",{value:"4",children:"4 Stunden (Backup)"})]}):r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"4",children:"4 Stunden"}),r.jsx("option",{value:"12",children:"12 Stunden"}),r.jsx("option",{value:"24",children:"1 Tag (24 Stunden)"}),r.jsx("option",{value:"48",children:"2 Tage (48 Stunden)"}),r.jsx("option",{value:"72",children:"3 Tage (72 Stunden)"}),r.jsx("option",{value:"96",children:"4 Tage (96 Stunden)"}),r.jsx("option",{value:"120",children:"5 Tage (120 Stunden)"}),r.jsx("option",{value:"144",children:"6 Tage (144 Stunden)"}),r.jsx("option",{value:"168",children:"7 Tage (168 Stunden)"})]})}),S==="anosim"&&(N==="full_germany"||N==="full")&&r.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"🇩🇪 Deutsche Vollvermietung - alle SMS-Dienste verfügbar"})]}),q&&r.jsx("div",{className:`p-3 rounded-md ${q.type==="error"?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":q.type==="success"?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":q.type==="warning"?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400"}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"mr-2",children:q.type==="error"?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):q.type==="success"?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):q.type==="warning"?r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),r.jsx("span",{className:"text-sm font-medium",children:q.message})]})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(B,{onClick:()=>{a(!1),Z(null)},variant:"secondary",children:"Abbrechen"}),r.jsx(B,{onClick:Jr,disabled:!N||G||Y==="unavailable",style:{backgroundColor:at.primary,color:"white"},className:"hover:opacity-90 transition-opacity",children:G?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 mr-2 border-t-2 border-r-2 border-white rounded-full animate-spin"}),"Wird bearbeitet..."]}):"Nummer mieten"})]})]})}),r.jsx(Ve,{isOpen:i,onClose:()=>c(!1),title:"Telefonnummer einem Mitarbeiter zuweisen",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefonnummer"}),r.jsx("div",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-200",children:h==null?void 0:h.phone_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mitarbeiter"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:$,onChange:l=>oe(l.target.value),children:[r.jsx("option",{value:"",children:"Mitarbeiter auswählen"}),Ct.filter(l=>l.role==="employee").map(l=>r.jsx("option",{value:l.id,children:`${l.first_name} ${l.last_name}`},l.id))]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(B,{onClick:()=>c(!1),variant:"secondary",children:"Abbrechen"}),r.jsx(B,{onClick:rn,disabled:!$,style:{backgroundColor:at.primary,color:"white"},className:"hover:opacity-90 transition-opacity",children:"Zuweisen"})]})]})}),r.jsx(Ve,{isOpen:u,onClose:()=>m(!1),title:`Nachrichten für ${h==null?void 0:h.phone_number}`,size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(h==null?void 0:h.provider)==="receive_sms_online"&&(h==null?void 0:h.external_url)&&r.jsx("span",{className:"break-all",children:h.external_url})}),r.jsx(B,{onClick:async()=>{var l,j,L;if(console.log("🔘 SMS Aktualisieren clicked for phone number:",{provider:h==null?void 0:h.provider,external_url:h==null?void 0:h.external_url,rent_id:h==null?void 0:h.rent_id,phone_number:h==null?void 0:h.phone_number,id:h==null?void 0:h.id}),(h==null?void 0:h.provider)==="receive_sms_online"&&(h!=null&&h.external_url))console.log("🚀 Using direct SMS fetch for receive-sms-online"),await Yr(h);else if((h==null?void 0:h.provider)==="smspva"){console.log("🔄 Using SMSPVA API fetch");try{const M=await fetch(`/api/phone/status/${h.id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!M.ok)throw new Error(`SMSPVA API error: ${M.status}`);const Q=await M.json();console.log("SMSPVA messages response:",Q);const H=((l=Q.data)==null?void 0:l.messages)||Q.messages||[];if(H&&H.length>0){for(const J of H)try{const{error:ee}=await V.from("phone_messages").upsert({phone_number_id:h.id,sender:J.sender||"SMSPVA",message:J.text||J.message||"",received_at:J.received_at||new Date().toISOString(),message_source:"api"},{onConflict:"phone_number_id,sender,message"});ee&&console.error("Error storing SMSPVA message:",ee)}catch(ee){console.error("Error inserting SMSPVA message:",ee)}D({type:"success",title:"Success",message:`Found and stored ${H.length} new messages`}),m(!1),setTimeout(()=>{m(!0)},100)}else D({type:"info",title:"No Messages",message:"No new messages found on SMSPVA"})}catch(M){console.error("Error fetching SMSPVA messages:",M),D({type:"error",title:"Error",message:"Failed to fetch SMSPVA messages"})}}else if((h==null?void 0:h.provider)==="gogetsms"){console.log("🔄 Using GoGetSMS API fetch");try{const M=await fetch(`/api/phone/status/${h.id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!M.ok)throw new Error(`GoGetSMS API error: ${M.status}`);const Q=await M.json();console.log("GoGetSMS messages response:",Q);const H=((j=Q.data)==null?void 0:j.messages)||Q.messages||[];if(H&&H.length>0){for(const J of H)try{const{error:ee}=await V.from("phone_messages").upsert({phone_number_id:h.id,sender:J.sender||"GoGetSMS",message:J.text||J.message||"",received_at:J.received_at||new Date().toISOString(),message_source:"api"},{onConflict:"phone_number_id,sender,message"});ee&&console.error("Error storing GoGetSMS message:",ee)}catch(ee){console.error("Error inserting GoGetSMS message:",ee)}D({type:"success",title:"Success",message:`Found and stored ${H.length} new messages`}),m(!1),setTimeout(()=>{m(!0)},100)}else D({type:"info",title:"No Messages",message:"No new messages found on GoGetSMS"})}catch(M){console.error("Error fetching GoGetSMS messages:",M),D({type:"error",title:"Error",message:"Failed to fetch GoGetSMS messages"})}}else if((h==null?void 0:h.provider)==="anosim"){console.log("🔄 Using Anosim API sync");try{const M=h.order_booking_id||h.external_url||h.rent_id;if(!M)throw new Error("No booking ID available for Anosim phone number");console.log(`[ANOSIM-MODAL] Syncing booking ID: ${M}`);const Q=await fetch(`/api/phone/sync/anosim/${M}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!Q.ok)throw new Error(`Anosim sync API error: ${Q.status}`);const H=await Q.json();if(console.log("[ANOSIM-MODAL] Sync response:",H),H.status==="success"){const J=((L=H.data)==null?void 0:L.newMessages)||0;J>0?D({type:"success",title:"Erfolg",message:`${J} neue Anosim-Nachrichten synchronisiert`}):D({type:"info",title:"Keine neuen Nachrichten",message:"Alle Anosim-Nachrichten sind bereits synchronisiert"}),m(!1),setTimeout(()=>{m(!0)},100)}else throw new Error(H.message||"Anosim sync failed")}catch(M){console.error("[ANOSIM-MODAL] Error syncing Anosim messages:",M),D({type:"error",title:"Fehler",message:"Fehler beim Synchronisieren der Anosim-Nachrichten"})}}else console.log("🔄 Using existing refresh logic for provider:",h==null?void 0:h.provider),await Rt(h)},variant:"outline",size:"sm",disabled:ct,leftIcon:r.jsx(Ae,{size:16}),children:ct?"Lädt...":"SMS Aktualisieren"})]}),ct?r.jsx("div",{className:"flex justify-center py-10",children:r.jsx(Ge,{size:"md"})}):Ot.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:["Keine Nachrichten für diese Nummer gefunden",(h==null?void 0:h.provider)==="receive_sms_online"&&r.jsx("div",{className:"mt-2 text-xs",children:'Klicken Sie auf "SMS Aktualisieren" um die neuesten Nachrichten direkt abzurufen'})]}):r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Ot.map(l=>{const L=(M=>{const Q=[/\b\d{6}\b/,/\b\d{4}\b/,/\b[A-Z0-9]{5,8}\b/];for(const H of Q){const J=M.match(H);if(J)return J[0]}return null})(l.message);return r.jsxs(Ue.div,{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-800",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:l.sender}),r.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(l.received_at).toLocaleString()})]}),r.jsx("div",{className:"mt-2 text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:l.message}),L&&r.jsxs("div",{className:"mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200",children:["Code: ",L]})]},l.id)})}),r.jsx("div",{className:"flex justify-end space-x-3 pt-4",children:r.jsx(B,{onClick:()=>m(!1),variant:"secondary",children:"Schließen"})})]})}),r.jsx(Ve,{isOpen:s,onClose:()=>o(!1),title:"Add Manual Phone Number",size:"lg",children:r.jsx(Wa,{onClose:()=>o(!1),onAdd:Hr,loading:be})}),r.jsx(Ja,{isOpen:g,onClose:()=>y(!1),onRent:$e,loading:G}),r.jsx(Za,{isOpen:k,onClose:()=>v(!1),onRent:$e,loading:G}),r.jsx(Xa,{isOpen:f,onClose:()=>b(!1),onRent:$e,loading:G}),r.jsx(Ya,{isOpen:x,onClose:()=>C(!1),onRent:$e,loading:G})]})}export{ks as default};
