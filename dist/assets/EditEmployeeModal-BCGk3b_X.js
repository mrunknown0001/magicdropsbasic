import{t as N,U as p,j as a,v,m as h,X as y,I as c,e as f}from"./index-C2zOcIr5.js";const w=({isOpen:u,onClose:d,onSubmit:b,employee:e,isLoading:t})=>{var m,x,o;const{register:s,handleSubmit:j,formState:{errors:r},reset:i}=N({defaultValues:{first_name:(e==null?void 0:e.first_name)||"",last_name:(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",role:(e==null?void 0:e.role)||"employee"}});p.useEffect(()=>{e&&i({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",role:e.role||"employee"})},[e,i]);const g=async l=>{if(e)try{await b(e.id,l),d()}catch{}},n=()=>{t||(i(),d())};return e?a.jsx(v,{children:u&&a.jsxs(a.Fragment,{children:[a.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:n}),a.jsx(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-0",onClick:l=>l.stopPropagation(),children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Mitarbeiter bearbeiten"}),a.jsx("button",{onClick:n,disabled:t,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:a.jsx(y,{size:20})})]}),a.jsxs("form",{onSubmit:j(g),children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsx(c,{label:"Vorname",...s("first_name",{required:"Vorname ist erforderlich"}),error:(m=r.first_name)==null?void 0:m.message,placeholder:"Max"}),a.jsx(c,{label:"Nachname",...s("last_name",{required:"Nachname ist erforderlich"}),error:(x=r.last_name)==null?void 0:x.message,placeholder:"Mustermann"}),a.jsx(c,{label:"E-Mail",type:"email",...s("email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Ung√ºltige E-Mail-Adresse"}}),error:(o=r.email)==null?void 0:o.message,placeholder:"max.mustermann@example.com",disabled:!0}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Rolle"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio h-4 w-4 text-accent",value:"employee",...s("role")}),a.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Mitarbeiter"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio h-4 w-4 text-accent",value:"admin",...s("role")}),a.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:"Administrator"})]})]})]})]}),a.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700 flex justify-end space-x-3",children:[a.jsx(f,{type:"button",variant:"outline",onClick:n,disabled:t,children:"Abbrechen"}),a.jsx(f,{type:"submit",isLoading:t,children:"Speichern"})]})]})]})})]})}):null};export{w as E};
